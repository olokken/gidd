{"ast":null,"code":"var _jsxFileName = \"/Users/olelokken/DEV/gidd/client/src/containers/NewUser.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport styled from 'styled-components';\nimport NewUserCard from '../components/CardComponents/NewUserCard';\nimport axios from '../Axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewUsernContainer = styled.div`\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #334d50; /* fallback for old browsers */\n    background: -webkit-linear-gradient(\n        to bottom,\n        #1d4350, #a43931\n    ); /* Chrome 10-25, Safari 5.1-6 */\n    background: linear-gradient(\n        to bottom,\n        #1d4350, #a43931\n    ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n`;\n_c = NewUsernContainer;\n\nconst NewUser = () => {\n  _s();\n\n  const history = useHistory();\n  const [firstName, setFirstName] = useState('');\n  const [surname, setSurname] = useState('');\n  const [email, setEmail] = useState('');\n  const [number, setNumber] = useState('');\n  const [image, setImage] = useState('');\n  const [activityLevel, setActivityLevel] = useState('');\n  const [password1, setPassword1] = useState('');\n  const [password2, setPassword2] = useState('');\n  const equalPasswords = password1 === password2 ? true : false;\n  const correctEmailFormat = email.indexOf('@') > -1 ? true : false;\n  const [visualActivityLevel, setVisualActivityLevel] = useState('');\n\n  const createUser = (firstName, surname, email, number, password, image) => {\n    if (!equalPasswords && password1 !== '') {\n      alert('Passordene er ulike');\n      return false;\n    } else {\n      axios.post('/user', {\n        email: email,\n        password: password,\n        firstName: firstName,\n        surname: surname,\n        phoneNumber: number,\n        activityLevel: activityLevel.toUpperCase(),\n        image: image\n      }).then(response => {\n        console.log(response);\n      }).then(() => history.push('/Activities')).catch(error => {\n        if (error.response) {\n          alert('En bruker med denne E-mailen finnes allerede');\n        }\n      });\n      return true;\n    }\n  };\n\n  const goBack = () => {\n    history.push('/');\n  };\n\n  const onChangeEmail = event => {\n    const currentEmail = event.target.value;\n    setEmail(currentEmail);\n  };\n\n  const onChangeFirstName = event => {\n    setFirstName(event.target.value);\n  };\n\n  const onChangeSurname = event => {\n    setSurname(event.target.value);\n  };\n\n  const onChangeNumber = event => {\n    setNumber(event.target.value);\n  };\n\n  const onChangeActivityLevel = event => {\n    setVisualActivityLevel(event.target.value);\n    let actLevel = event.target.value;\n\n    if (actLevel === 'Lav') {\n      actLevel = 'Low';\n    } else if (actLevel === 'Middels') {\n      actLevel = 'Medium';\n    } else {\n      actLevel = 'High';\n    }\n\n    setActivityLevel(actLevel);\n  };\n\n  const onChangePassword1 = event => {\n    setPassword1(event.target.value);\n  };\n\n  const onChangePassword2 = event => {\n    setPassword2(event.target.value);\n  };\n\n  const onChangeImage = async (event) => {\n    console.log(event);\n\n    if (event.target.files != null) {\n      const file = event.target.files[0];\n      console.log(file);\n      const base64 = await convertBase64(file);\n      console.log(base64);\n      setImage(base64);\n      console.log(image);\n    }\n  };\n\n  const convertBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(file);\n\n      fileReader.onload = () => {\n        resolve(fileReader.result);\n      };\n\n      fileReader.onerror = error => {\n        reject(error);\n      };\n    });\n  };\n\n  const onClick = () => {\n    if (equalPasswords) {\n      createUser(firstName, surname, email, number, password1, image);\n    } else {\n      alert('Noe gikk galt');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(NewUsernContainer, {\n    children: /*#__PURE__*/_jsxDEV(NewUserCard, {\n      onChangeFirstName: onChangeFirstName,\n      onChangeSurname: onChangeSurname,\n      onChangeActivityLevel: onChangeActivityLevel,\n      activityLevel: activityLevel,\n      visualActivityLevel: visualActivityLevel,\n      onChangeEmail: onChangeEmail,\n      onChangeNumber: onChangeNumber,\n      onChangePassword1: onChangePassword1,\n      onChangePassword2: onChangePassword2,\n      onClick: onClick,\n      equalPasswords: equalPasswords,\n      correctEmailFormat: correctEmailFormat,\n      email: email,\n      goBack: goBack,\n      image: image,\n      onChangeImage: onChangeImage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 9\n  }, this);\n};\n\n_s(NewUser, \"dLqd7iGYY7DgAxBsrPEMFi4n5QY=\", false, function () {\n  return [useHistory];\n});\n\n_c2 = NewUser;\nexport default NewUser;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"NewUsernContainer\");\n$RefreshReg$(_c2, \"NewUser\");","map":{"version":3,"sources":["/Users/olelokken/DEV/gidd/client/src/containers/NewUser.tsx"],"names":["React","useState","useHistory","styled","NewUserCard","axios","NewUsernContainer","div","NewUser","history","firstName","setFirstName","surname","setSurname","email","setEmail","number","setNumber","image","setImage","activityLevel","setActivityLevel","password1","setPassword1","password2","setPassword2","equalPasswords","correctEmailFormat","indexOf","visualActivityLevel","setVisualActivityLevel","createUser","password","alert","post","phoneNumber","toUpperCase","then","response","console","log","push","catch","error","goBack","onChangeEmail","event","currentEmail","target","value","onChangeFirstName","onChangeSurname","onChangeNumber","onChangeActivityLevel","actLevel","onChangePassword1","onChangePassword2","onChangeImage","files","file","base64","convertBase64","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","onerror","onClick"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport styled from 'styled-components';\nimport NewUserCard from '../components/CardComponents/NewUserCard';\nimport axios from '../Axios';\n\nconst NewUsernContainer = styled.div`\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #334d50; /* fallback for old browsers */\n    background: -webkit-linear-gradient(\n        to bottom,\n        #1d4350, #a43931\n    ); /* Chrome 10-25, Safari 5.1-6 */\n    background: linear-gradient(\n        to bottom,\n        #1d4350, #a43931\n    ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n`;\n\nconst NewUser = () => {\n    const history = useHistory();\n    const [firstName, setFirstName] = useState<string>('');\n    const [surname, setSurname] = useState<string>('');\n    const [email, setEmail] = useState<string>('');\n    const [number, setNumber] = useState<string>('');\n    const [image, setImage] = useState<string>('');\n    const [activityLevel, setActivityLevel] = useState<string>('');\n    const [password1, setPassword1] = useState<string>('');\n    const [password2, setPassword2] = useState<string>('');\n    const equalPasswords: boolean = password1 === password2 ? true : false;\n    const correctEmailFormat = email.indexOf('@') > -1 ? true : false;\n    const [visualActivityLevel, setVisualActivityLevel] = useState<string>('');\n\n    const createUser = (\n        firstName: string,\n        surname: string,\n        email: string,\n        number: string,\n        password: string,\n        image: string\n    ): boolean => {\n        if (!equalPasswords && password1 !== '') {\n            alert('Passordene er ulike');\n            return false;\n        } else {\n            axios\n                .post('/user', {\n                    email: email,\n                    password: password,\n                    firstName: firstName,\n                    surname: surname,\n                    phoneNumber: number,\n                    activityLevel: activityLevel.toUpperCase(),\n                    image: image,\n                })\n                .then((response) => {\n                    console.log(response)\n                }).\n                then(() => history.push('/Activities')\n                ).catch((error) => {\n                    if (error.response) {\n                        alert('En bruker med denne E-mailen finnes allerede')\n                    }\n                });\n            return true;\n        }\n    };\n\n    const goBack = () => {\n        history.push('/')\n    }\n\n    const onChangeEmail = (event: ChangeEvent<HTMLInputElement>) => {\n        const currentEmail: string = (event.target as HTMLInputElement).value;\n        setEmail(currentEmail);\n    };\n\n    const onChangeFirstName = (event: ChangeEvent<HTMLInputElement>) => {\n        setFirstName((event.target as HTMLInputElement).value);\n    };\n\n    const onChangeSurname = (event: ChangeEvent<HTMLInputElement>) => {\n        setSurname((event.target as HTMLInputElement).value);\n    };\n\n    const onChangeNumber = (event: ChangeEvent<HTMLInputElement>) => {\n        setNumber((event.target as HTMLInputElement).value);\n    };\n\n    const onChangeActivityLevel = (event: ChangeEvent<HTMLInputElement>) => {\n        setVisualActivityLevel((event.target as HTMLInputElement).value)\n        let actLevel = (event.target as HTMLInputElement).value\n        if (actLevel === 'Lav') {\n            actLevel = 'Low'\n        } else if (actLevel === 'Middels') {\n            actLevel = 'Medium'\n        } else {\n            actLevel = 'High'\n        }\n        setActivityLevel(actLevel);\n    };\n\n    const onChangePassword1 = (event: ChangeEvent<HTMLInputElement>) => {\n        setPassword1((event.target as HTMLInputElement).value);\n    };\n    const onChangePassword2 = (event: ChangeEvent<HTMLInputElement>) => {\n        setPassword2((event.target as HTMLInputElement).value);\n    };\n\n    const onChangeImage = async (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        console.log(event);\n        if (event.target.files != null) {\n            const file: File = event.target.files[0];\n            console.log(file);\n            const base64 = await convertBase64(file);\n            console.log(base64);\n            setImage(base64);\n            console.log(image)\n        }\n    };\n\n    const convertBase64 = (file: File) => {\n        return new Promise<any>((resolve, reject) => {\n\n            const fileReader = new FileReader();\n            fileReader.readAsDataURL(file);\n\n            fileReader.onload = (() => {\n                resolve(fileReader.result);\n            });\n            fileReader.onerror = ((error) => {\n                reject(error);\n            });\n        });\n    };\n\n    const onClick = () => {\n        if (equalPasswords) {\n            createUser(firstName, surname, email, number, password1, image);\n        } else {\n            alert('Noe gikk galt');\n        }\n    };\n\n    return (\n        <NewUsernContainer>\n            <NewUserCard\n                onChangeFirstName={onChangeFirstName}\n                onChangeSurname={onChangeSurname}\n                onChangeActivityLevel={onChangeActivityLevel}\n                activityLevel={activityLevel}\n                visualActivityLevel={visualActivityLevel}\n                onChangeEmail={onChangeEmail}\n                onChangeNumber={onChangeNumber}\n                onChangePassword1={onChangePassword1}\n                onChangePassword2={onChangePassword2}\n                onClick={onClick}\n                equalPasswords={equalPasswords}\n                correctEmailFormat={correctEmailFormat}\n                email={email}\n                goBack={goBack}\n                image={image}\n                onChangeImage={onChangeImage}\n            ></NewUserCard>\n        </NewUsernContainer>\n    );\n};\n\nexport default NewUser;\n"]},"metadata":{},"sourceType":"module"}