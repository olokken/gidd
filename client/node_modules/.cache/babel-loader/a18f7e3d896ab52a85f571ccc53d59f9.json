{"ast":null,"code":"var _jsxFileName = \"/Users/olelokken/DEV/gidd/client/src/components/ActivityComponents/ActivityForm.tsx\",\n    _s = $RefreshSig$();\n\nimport { TextField, Button, withStyles, MenuItem, Typography, Tooltip } from '@material-ui/core';\nimport React, { useState, useContext, useEffect } from 'react';\nimport { UserContext } from '../../UserContext';\nimport './ActivityForm.css';\nimport axios from '../../Axios';\nimport GeoSuggest from '../MapComponents/GeoSuggest';\nimport Popup from '../Popup';\nimport MapComponent from '../MapComponents/MapComponent';\nimport { Marker } from 'react-google-maps';\nimport Pagination from '@material-ui/lab/Pagination';\nimport styled from 'styled-components';\nimport InfoIcon from '@material-ui/icons/Info';\nimport config from '../../Config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledButton = withStyles({\n  root: {\n    background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n    borderRadius: 3,\n    border: 0,\n    color: 'white',\n    height: 48,\n    padding: '0 30px',\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n    width: '15vw'\n  },\n  label: {\n    textTransform: 'capitalize'\n  }\n})(Button);\nconst StyledTextField = withStyles({\n  root: {\n    minWidth: '30vh'\n  }\n})(TextField);\nconst NumberTextField = withStyles({\n  root: {\n    width: '7vw',\n    padding: '5px'\n  }\n})(TextField);\nconst ButtonsContainer = styled.div`\n    display: flex;\n    width: 34vw;\n    padding: 10px;\n`;\n_c = ButtonsContainer;\n\nconst ActivityForm = ({\n  openPopup,\n  setOpenPopup,\n  activityResponse,\n  groupId\n}) => {\n  _s();\n\n  const [page, setPage] = useState(1);\n  const {\n    user\n  } = useContext(UserContext);\n  const [title, setTitle] = useState('');\n  const [desc, setDesc] = useState('');\n  const [date, setDate] = useState(new Date());\n  const [dateDisplay, setDateDisplay] = useState('');\n  const [location, setLocation] = useState({\n    lat: 50,\n    lng: 50\n  });\n  const [equipmentList, setEquipmentList] = useState([]);\n  const [equipmentDesc, setEquipmentDesc] = useState('');\n  const [counterAct, setCounterAct] = useState(0);\n  const [counterTag, setCounterTag] = useState(0);\n  const [reset, setReset] = useState(false);\n  const [openShowMap, setOpenShowMap] = useState(false);\n  const [tagList, setTagList] = useState([]);\n  const [tagsDesc, setTagsDesc] = useState('');\n  const [activityLevel, setActivityLevel] = useState('');\n  const [capacity, setCapacity] = useState('');\n  const [repetition, setRepetition] = useState('');\n  const [image, setImage] = useState('');\n  const [isActivityResponse, setIsActivityResponse] = useState(false);\n\n  const onPageChange = (event, value) => {\n    setPage(value);\n  };\n\n  const checkInput = input => {\n    if (input.length > 0 && input.charAt(0) !== ' ') return true;else return false;\n  };\n\n  const onChangeTitle = event => {\n    setTitle(event.target.value);\n  };\n\n  const onChangeDesc = event => {\n    setDesc(event.target.value);\n  };\n\n  const onChangeDate = event => {\n    const strDate = event.target.value;\n    console.log(strDate);\n    console.log(new Date(strDate));\n    setDateDisplay(strDate);\n    setDate(new Date(strDate));\n  };\n\n  const onChangeEqipmentDesc = event => {\n    setEquipmentDesc(event.target.value);\n  };\n\n  const onChangeTagsDesc = event => {\n    const str = event.target.value;\n    setTagsDesc(str);\n  };\n\n  const onChangeActivityLevel = event => {\n    const str = event.target.value;\n    setActivityLevel(str);\n  };\n\n  const onChangeCapacity = event => {\n    const str = event.target.value;\n\n    if (+str < 1) {\n      setCapacity('');\n    } else {\n      setCapacity(str);\n    }\n  };\n\n  const onChangeRepetitions = event => {\n    const str = event.target.value;\n\n    if (+str < 1) {\n      setRepetition('');\n    } else if (+str > 3) {\n      setRepetition('');\n    } else {\n      setRepetition(str);\n    }\n  };\n\n  const onChangeImage = async (event) => {\n    console.log(event);\n\n    if (event.target.files != null) {\n      const file = event.target.files[0];\n      console.log(file);\n      const base64 = await convertBase64(file);\n      console.log(base64);\n      setImage(base64);\n      console.log(image);\n    }\n  };\n\n  const convertBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(file);\n\n      fileReader.onload = () => {\n        resolve(fileReader.result);\n      };\n\n      fileReader.onerror = error => {\n        reject(error);\n      };\n    });\n  };\n\n  const addEquipment = event => {\n    if (event.key === 'Enter') {\n      if (checkInput(equipmentDesc)) {\n        const equipment = {\n          equipmentId: counterAct,\n          description: equipmentDesc\n        };\n        equipmentList.push(equipment);\n        setCounterAct(counterAct + 1);\n        setEquipmentDesc('');\n        setReset(false);\n        return true;\n      } else {\n        console.log('Could not add equipment. Not a valid description');\n        setEquipmentDesc('');\n      }\n    }\n\n    return false;\n  };\n\n  const deleteEquipment = ID => {\n    setEquipmentList(equipmentList.filter(equip => equip.equipmentId !== ID));\n  };\n\n  const addTags = event => {\n    if (event.key == 'Enter') {\n      if (checkInput(tagsDesc)) {\n        const tags = tagsDesc.split(',');\n        tags.map(tag => {\n          tagList.push({\n            tagId: counterTag,\n            description: tag\n          });\n        });\n        setCounterTag(counterTag + 1);\n        setTagsDesc('');\n        setReset(false);\n      }\n    }\n  };\n\n  const deleteTag = ID => {\n    setTagList(tagList.filter(tag => tag.tagId !== ID));\n  };\n\n  const isDisabled = () => {\n    if (title === '' || date === new Date() || activityLevel === '') {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const getEquipmentString = () => {\n    let equipmentString = '';\n    equipmentList.map(equipment => equipmentString += equipment.description + ',');\n    return equipmentString;\n  };\n\n  const getTagString = () => {\n    let tagString = '';\n    tagList.map(tag => tagString += tag.description + ',');\n    return tagString;\n  };\n\n  const getTimeFormat = () => {\n    return date.getFullYear() + '-' + (+date.getMonth() + 1) + '-' + date.getDate() + ' ' + (+date.getHours() + 2) + ':' + date.getMinutes() + ':' + date.getSeconds();\n  };\n\n  const escapedJSONDescription = () => {\n    return JSON.stringify(desc).replace(/\\\\n/g, '\\\\n').replace(/\\\\'/g, \"\\\\'\").replace(/\\\\\"/g, '\\\\\"').replace(/\\\\&/g, '\\\\&').replace(/\\\\r/g, '\\\\r').replace(/\\\\t/g, '\\\\t').replace(/\\\\b/g, '\\\\b').replace(/\\\\f/g, '\\\\f');\n  };\n\n  const postActivity = groupId => {\n    const id = groupId ? +groupId : -1;\n    let capa = 1;\n    let repe = 0;\n\n    try {\n      capa = capacity !== '' ? +capacity : 1;\n      repe = repetition !== '' ? +repetition : 0;\n    } catch (error) {\n      console.log('Could not convert string to number');\n    }\n\n    const activity = {\n      title: title,\n      time: getTimeFormat(),\n      repeat: repe,\n      userId: user,\n      capacity: capa,\n      groupId: id,\n      description: escapedJSONDescription(),\n      image: image,\n      activityLevel: activityLevel.toUpperCase(),\n      equipmentList: getEquipmentString(),\n      tags: getTagString(),\n      latitude: location.lat,\n      longitude: location.lng\n    };\n    console.log(activity);\n    axios.post('/activity', activity, config).then(response => {\n      JSON.stringify(response);\n      console.log(response.data);\n    }).then(() => {\n      handleReset();\n      setOpenPopup(!openPopup);\n    }).catch(error => console.log(error.response.data));\n  };\n\n  const onKeyDown = e => {\n    if (e.code === 'ArrowRight' && page < 8) {\n      setPage(page + 1);\n    }\n\n    if (e.code === 'ArrowLeft' && page > 1) {\n      setPage(page - 1);\n    }\n  };\n\n  const changeActivity = async () => {\n    console.log(activityLevel);\n    const sendActivity = {\n      title: title,\n      time: getTimeFormat(),\n      repeat: repetition,\n      userId: user,\n      capacity: capacity,\n      groupId: 0,\n      description: escapedJSONDescription(),\n      image: image,\n      activityLevel: activityLevel.toUpperCase(),\n      equipmentList: getEquipmentString(),\n      tags: getTagString(),\n      latitude: location.lat,\n      longitude: location.lng\n    };\n    console.log(sendActivity);\n    const token = localStorage.getItem('token');\n    const config = {\n      headers: {\n        token: token\n      }\n    };\n    const request = await axios.put(`/activity/${activityResponse === null || activityResponse === void 0 ? void 0 : activityResponse.activityId}`, sendActivity, config).then(() => {\n      handleReset();\n      setOpenPopup(!openPopup);\n    });\n    console.log(request);\n  };\n\n  const handleReset = () => {\n    setTitle('');\n    setDesc('');\n    setDate(new Date());\n    setDateDisplay('');\n    setEquipmentList([]);\n    setEquipmentDesc('');\n    setCounterAct(0);\n    setCounterTag(0);\n    setReset(true);\n    setOpenShowMap(false);\n    setTagList([]);\n    setTagsDesc('');\n    setActivityLevel('');\n    setCapacity('');\n    setRepetition('');\n  };\n\n  function getPosition(string, subString, index) {\n    return string.split(subString, index).join(subString).length;\n  }\n\n  function getDisplayDate(date) {\n    return date.toJSON().substring(0, getPosition(date.toJSON(), ':', 2));\n  }\n\n  useEffect(() => {\n    if (activityResponse !== undefined) {\n      setIsActivityResponse(true);\n      console.log(activityResponse);\n      setTitle(activityResponse.title);\n      setLocation({\n        lat: activityResponse.latitude,\n        lng: activityResponse.longitude\n      });\n      const date = new Date(activityResponse.time);\n      setDate(date);\n      setDateDisplay(getDisplayDate(date));\n      setDesc(activityResponse.description);\n      setImage(activityResponse.image);\n      let i = 0;\n      activityResponse.tags.map(tag => {\n        tagList.push({\n          tagId: i,\n          description: tag\n        });\n        i++;\n      });\n      setEquipmentList(activityResponse.equipments);\n      setActivityLevel(activityResponse.activityLevel);\n      setCapacity(activityResponse.capacity + '');\n      setRepetition(activityResponse.daysToRepeat + '');\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"activityform\",\n    onKeyDown: onKeyDown,\n    children: [page === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        className: \"activityform__containerItem1\",\n        component: \"h2\",\n        children: \"Legg til tittel*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(StyledTextField, {\n        label: \"Tittel\",\n        value: title,\n        onChange: onChangeTitle,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 17\n    }, this), page === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h2\",\n        children: \"Legg til plassering*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"activityform__place\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"activityform__placeItem1\",\n          children: /*#__PURE__*/_jsxDEV(GeoSuggest, {\n            onLocationChange: location => {\n              setLocation(location);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(StyledButton, {\n          className: \"activityform__placeButton\",\n          onClick: () => setOpenShowMap(!openShowMap),\n          children: \"Vis p\\xE5 kart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Popup, {\n          openPopup: openShowMap,\n          setOpenPopup: setOpenShowMap,\n          maxWidth: \"lg\",\n          children: /*#__PURE__*/_jsxDEV(MapComponent, {\n            width: \"75vh\",\n            height: \"75vh\",\n            defaultCenter: location,\n            children: /*#__PURE__*/_jsxDEV(Marker, {\n              position: location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 17\n    }, this), page === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        className: \"activityform__containerItem1\",\n        component: \"h2\",\n        children: \"Legg til dato\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(StyledTextField, {\n        label: \"Dato\",\n        type: \"datetime-local\",\n        defaultValue: dateDisplay,\n        value: dateDisplay,\n        InputLabelProps: {\n          shrink: true\n        },\n        onChange: onChangeDate,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 17\n    }, this), page === 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        className: \"activityform__containerItem1\",\n        component: \"h2\",\n        children: \"Legg til beskrivelse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(StyledTextField, {\n        className: \"activityform__description\",\n        label: \"Beskrivelse\",\n        value: desc,\n        onChange: onChangeDesc,\n        variant: \"outlined\",\n        rows: 4,\n        multiline: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 17\n    }, this), page === 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        className: \"activityform__containerItem1\",\n        component: \"h2\",\n        children: \"Legg til bilde\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(StyledTextField, {\n        type: \"file\",\n        label: \"Bilde\",\n        onChange: onChangeImage,\n        InputLabelProps: {\n          shrink: true\n        },\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        style: {\n          maxHeight: '40px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 17\n    }, this), page === 6 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"activityform__header\",\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          className: \"activityform__headerItem1\",\n          component: \"h2\",\n          children: \"Legg til tags\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          placement: \"right-start\",\n          title: \"Press enter for \\xE5 legge til. Trykk for \\xE5 fjerne\",\n          children: /*#__PURE__*/_jsxDEV(InfoIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(StyledTextField, {\n        label: \"Tags\",\n        onChange: onChangeTagsDesc,\n        onKeyPress: addTags,\n        value: tagsDesc,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"activityform__list\",\n        children: reset === false && tagList.map(tag => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: deleteTag.bind(this, tag.tagId),\n          children: tag.description\n        }, tag.tagId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 17\n    }, this), page === 7 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"activityform__header\",\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          className: \"activityform__headerItem1\",\n          component: \"h2\",\n          children: \"Legg til utstyr\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          placement: \"right-start\",\n          title: \"Press enter for \\xE5 legge til. Trykk for \\xE5 fjerne\",\n          children: /*#__PURE__*/_jsxDEV(InfoIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(StyledTextField, {\n        label: \"Utstyr\",\n        value: equipmentDesc,\n        variant: \"outlined\",\n        onChange: onChangeEqipmentDesc,\n        onKeyPress: addEquipment\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"activityform__list\",\n        children: reset === false && equipmentList.map(equipment => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: deleteEquipment.bind(this, equipment.equipmentId),\n          children: equipment.description\n        }, equipment.equipmentId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 17\n    }, this), page === 8 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"activityform__header\",\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          className: \"activityform__headerItem1\",\n          children: \"Legg til aktivitetsgrad*, plasser og gjentakninger\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          placement: \"left-end\",\n          title: \"Plasser m\\xE5 v\\xE6re minst 1. Gjentakninger vil opprette en tilsvarende aktivitet 1 uke frem tid. Gjentakninger m\\xE5 v\\xE6re mellom 0 og 3.\",\n          children: /*#__PURE__*/_jsxDEV(InfoIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"acitivityform__containerItem2\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          className: \"activityform__activityLevel\",\n          label: \"Aktivitetgrad\",\n          onChange: onChangeActivityLevel,\n          value: activityLevel,\n          variant: \"outlined\",\n          select: true,\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"High\",\n            children: \"High\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"Medium\",\n            children: \"Medium\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"Low\",\n            children: \"Low\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"acitivityform__containerItem22\",\n          children: [/*#__PURE__*/_jsxDEV(NumberTextField, {\n            className: \"acitivityform__numberbox\",\n            label: \"Plasser\",\n            type: \"number\",\n            InputLabelProps: {\n              shrink: true\n            },\n            value: capacity,\n            onChange: onChangeCapacity,\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 29\n          }, this), !activityResponse && /*#__PURE__*/_jsxDEV(NumberTextField, {\n            className: \"acitivityform__numberbox\",\n            label: \"Gjentakinger\",\n            type: \"number\",\n            InputLabelProps: {\n              shrink: true\n            },\n            variant: \"outlined\",\n            value: repetition,\n            onChange: onChangeRepetitions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 621,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(ButtonsContainer, {\n        children: [/*#__PURE__*/_jsxDEV(StyledButton, {\n          className: \"activityform__add\",\n          onClick: isActivityResponse ? changeActivity : () => postActivity(groupId),\n          disabled: isDisabled(),\n          children: isActivityResponse ? 'Endre ' : 'Legg til'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 662,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(StyledButton, {\n          className: \"activityform__reset\",\n          onClick: handleReset,\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 661,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"activityform__pageContainer\",\n      children: /*#__PURE__*/_jsxDEV(Pagination, {\n        page: page,\n        onChange: onPageChange,\n        count: 8,\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 683,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 682,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 423,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ActivityForm, \"NJgN8HhAtbNy2F5b7Jr4hqTSie8=\");\n\n_c2 = ActivityForm;\nexport default ActivityForm;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ButtonsContainer\");\n$RefreshReg$(_c2, \"ActivityForm\");","map":{"version":3,"sources":["/Users/olelokken/DEV/gidd/client/src/components/ActivityComponents/ActivityForm.tsx"],"names":["TextField","Button","withStyles","MenuItem","Typography","Tooltip","React","useState","useContext","useEffect","UserContext","axios","GeoSuggest","Popup","MapComponent","Marker","Pagination","styled","InfoIcon","config","StyledButton","root","background","borderRadius","border","color","height","padding","boxShadow","width","label","textTransform","StyledTextField","minWidth","NumberTextField","ButtonsContainer","div","ActivityForm","openPopup","setOpenPopup","activityResponse","groupId","page","setPage","user","title","setTitle","desc","setDesc","date","setDate","Date","dateDisplay","setDateDisplay","location","setLocation","lat","lng","equipmentList","setEquipmentList","equipmentDesc","setEquipmentDesc","counterAct","setCounterAct","counterTag","setCounterTag","reset","setReset","openShowMap","setOpenShowMap","tagList","setTagList","tagsDesc","setTagsDesc","activityLevel","setActivityLevel","capacity","setCapacity","repetition","setRepetition","image","setImage","isActivityResponse","setIsActivityResponse","onPageChange","event","value","checkInput","input","length","charAt","onChangeTitle","target","onChangeDesc","onChangeDate","strDate","console","log","onChangeEqipmentDesc","onChangeTagsDesc","str","onChangeActivityLevel","onChangeCapacity","onChangeRepetitions","onChangeImage","files","file","base64","convertBase64","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","onerror","error","addEquipment","key","equipment","equipmentId","description","push","deleteEquipment","ID","filter","equip","addTags","tags","split","map","tag","tagId","deleteTag","isDisabled","getEquipmentString","equipmentString","getTagString","tagString","getTimeFormat","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","escapedJSONDescription","JSON","stringify","replace","postActivity","id","capa","repe","activity","time","repeat","userId","toUpperCase","latitude","longitude","post","then","response","data","handleReset","catch","onKeyDown","e","code","changeActivity","sendActivity","token","localStorage","getItem","headers","request","put","activityId","getPosition","string","subString","index","join","getDisplayDate","toJSON","substring","undefined","i","equipments","daysToRepeat","shrink","maxHeight","bind"],"mappings":"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","sourcesContent":["import {\n    TextField,\n    Button,\n    withStyles,\n    MenuItem,\n    Typography,\n    Tooltip,\n} from '@material-ui/core';\nimport React, { useState, ChangeEvent, useContext, useEffect } from 'react';\nimport { UserContext } from '../../UserContext';\nimport './ActivityForm.css';\nimport axios from '../../Axios';\nimport GeoSuggest from '../MapComponents/GeoSuggest';\nimport Popup from '../Popup';\nimport MapComponent from '../MapComponents/MapComponent';\nimport { Marker } from 'react-google-maps';\nimport { Activity } from '../../interfaces/Activity';\nimport Equipment from '../../interfaces/Equipment';\nimport Tag from '../../interfaces/Tag';\nimport Pagination from '@material-ui/lab/Pagination';\nimport DefaultCenter from '../../interfaces/DefaultCenter';\nimport styled from 'styled-components';\nimport InfoIcon from '@material-ui/icons/Info';\nimport ActivityResponse from '../../interfaces/ActivityResponse';\nimport config from '../../Config'\n\nconst StyledButton = withStyles({\n    root: {\n        background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n        borderRadius: 3,\n        border: 0,\n        color: 'white',\n        height: 48,\n        padding: '0 30px',\n        boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n        width: '15vw',\n    },\n    label: {\n        textTransform: 'capitalize',\n    },\n})(Button);\n\nconst StyledTextField = withStyles({\n    root: {\n        minWidth: '30vh',\n    },\n})(TextField);\n\nconst NumberTextField = withStyles({\n    root: {\n        width: '7vw',\n        padding: '5px',\n    },\n})(TextField);\n\nconst ButtonsContainer = styled.div`\n    display: flex;\n    width: 34vw;\n    padding: 10px;\n`;\ninterface Props {\n    openPopup: boolean;\n    setOpenPopup: React.Dispatch<React.SetStateAction<boolean>>;\n    activityResponse?: ActivityResponse;\n    groupId?: string | undefined;\n}\n\nconst ActivityForm = ({\n    openPopup,\n    setOpenPopup,\n    activityResponse,\n    groupId,\n}: Props) => {\n    const [page, setPage] = useState<number>(1);\n    const { user } = useContext(UserContext);\n    const [title, setTitle] = useState('');\n    const [desc, setDesc] = useState('');\n    const [date, setDate] = useState<Date>(new Date());\n    const [dateDisplay, setDateDisplay] = useState<string>('');\n    const [location, setLocation] = useState<DefaultCenter>({\n        lat: 50,\n        lng: 50,\n    });\n    const [equipmentList, setEquipmentList] = useState<Equipment[]>([]);\n    const [equipmentDesc, setEquipmentDesc] = useState('');\n    const [counterAct, setCounterAct] = useState<number>(0);\n    const [counterTag, setCounterTag] = useState<number>(0);\n    const [reset, setReset] = useState<boolean>(false);\n    const [openShowMap, setOpenShowMap] = useState<boolean>(false);\n    const [tagList, setTagList] = useState<Tag[]>([]);\n    const [tagsDesc, setTagsDesc] = useState<string>('');\n    const [activityLevel, setActivityLevel] = useState<string>('');\n    const [capacity, setCapacity] = useState<string>('');\n    const [repetition, setRepetition] = useState<string>('');\n    const [image, setImage] = useState<string>('');\n    const [isActivityResponse, setIsActivityResponse] = useState<boolean>(\n        false\n    );\n\n    const onPageChange = (event: React.ChangeEvent<unknown>, value: number) => {\n        setPage(value);\n    };\n\n    const checkInput = (input: string) => {\n        if (input.length > 0 && input.charAt(0) !== ' ') return true;\n        else return false;\n    };\n\n    const onChangeTitle = (event: ChangeEvent<HTMLInputElement>) => {\n        setTitle((event.target as HTMLInputElement).value);\n    };\n\n    const onChangeDesc = (event: ChangeEvent<HTMLInputElement>) => {\n        setDesc((event.target as HTMLInputElement).value);\n    };\n\n    const onChangeDate = (event: ChangeEvent<HTMLInputElement>): void => {\n        const strDate: string = (event.target as HTMLInputElement).value;\n        console.log(strDate);\n        console.log(new Date(strDate));\n        setDateDisplay(strDate);\n        setDate(new Date(strDate));\n    };\n\n    const onChangeEqipmentDesc = (\n        event: ChangeEvent<HTMLInputElement>\n    ): void => {\n        setEquipmentDesc((event.target as HTMLInputElement).value);\n    };\n\n    const onChangeTagsDesc = (event: ChangeEvent<HTMLInputElement>) => {\n        const str: string = (event.target as HTMLInputElement).value;\n        setTagsDesc(str);\n    };\n\n    const onChangeActivityLevel = (event: ChangeEvent<HTMLInputElement>) => {\n        const str: string = (event.target as HTMLInputElement).value;\n        setActivityLevel(str);\n    };\n\n    const onChangeCapacity = (event: ChangeEvent<HTMLInputElement>) => {\n        const str: string = (event.target as HTMLInputElement).value;\n        if (+str < 1) {\n            setCapacity('');\n        } else {\n            setCapacity(str);\n        }\n    };\n\n    const onChangeRepetitions = (event: ChangeEvent<HTMLInputElement>) => {\n        const str: string = (event.target as HTMLInputElement).value;\n        if (+str < 1) {\n            setRepetition('');\n        } else if (+str > 3) {\n            setRepetition('');\n        } else {\n            setRepetition(str);\n        }\n    };\n\n    const onChangeImage = async (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        console.log(event);\n        if (event.target.files != null) {\n            const file: File = event.target.files[0];\n            console.log(file);\n            const base64 = await convertBase64(file);\n            console.log(base64);\n            setImage(base64);\n            console.log(image);\n        }\n    };\n\n    const convertBase64 = (file: File) => {\n        return new Promise<any>((resolve, reject) => {\n            const fileReader = new FileReader();\n            fileReader.readAsDataURL(file);\n\n            fileReader.onload = () => {\n                resolve(fileReader.result);\n            };\n            fileReader.onerror = (error) => {\n                reject(error);\n            };\n        });\n    };\n\n    const addEquipment = (event: React.KeyboardEvent): boolean => {\n        if (event.key === 'Enter') {\n            if (checkInput(equipmentDesc)) {\n                const equipment: Equipment = {\n                    equipmentId: counterAct,\n                    description: equipmentDesc,\n                };\n                equipmentList.push(equipment);\n                setCounterAct(counterAct + 1);\n                setEquipmentDesc('');\n                setReset(false);\n                return true;\n            } else {\n                console.log('Could not add equipment. Not a valid description');\n                setEquipmentDesc('');\n            }\n        }\n        return false;\n    };\n\n    const deleteEquipment = (ID: number) => {\n        setEquipmentList(\n            equipmentList.filter((equip) => equip.equipmentId !== ID)\n        );\n    };\n\n    const addTags = (event: React.KeyboardEvent) => {\n        if (event.key == 'Enter') {\n            if (checkInput(tagsDesc)) {\n                const tags: string[] = tagsDesc.split(',');\n                tags.map((tag) => {\n                    tagList.push({ tagId: counterTag, description: tag });\n                });\n                setCounterTag(counterTag + 1);\n                setTagsDesc('');\n                setReset(false);\n            }\n        }\n    };\n\n    const deleteTag = (ID: number) => {\n        setTagList(tagList.filter((tag) => tag.tagId !== ID));\n    };\n\n    const isDisabled = (): boolean => {\n        if (title === '' || date === new Date() || activityLevel === '') {\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    const getEquipmentString = () => {\n        let equipmentString = '';\n        equipmentList.map(\n            (equipment) => (equipmentString += equipment.description + ',')\n        );\n        return equipmentString;\n    };\n    const getTagString = () => {\n        let tagString = '';\n        tagList.map((tag) => (tagString += tag.description + ','));\n        return tagString;\n    };\n\n    const getTimeFormat = (): string => {\n        return (\n            date.getFullYear() +\n            '-' +\n            (+date.getMonth() + 1) +\n            '-' +\n            date.getDate() +\n            ' ' +\n            (+date.getHours() + 2) +\n            ':' +\n            date.getMinutes() +\n            ':' +\n            date.getSeconds()\n        );\n    };\n\n    const escapedJSONDescription = () => {\n        return JSON.stringify(desc)\n            .replace(/\\\\n/g, '\\\\n')\n            .replace(/\\\\'/g, \"\\\\'\")\n            .replace(/\\\\\"/g, '\\\\\"')\n            .replace(/\\\\&/g, '\\\\&')\n            .replace(/\\\\r/g, '\\\\r')\n            .replace(/\\\\t/g, '\\\\t')\n            .replace(/\\\\b/g, '\\\\b')\n            .replace(/\\\\f/g, '\\\\f');\n    };\n\n    const postActivity = (groupId: string | undefined) => {\n        const id: number = groupId ? +groupId : -1;\n        let capa = 1;\n        let repe = 0;\n        try {\n            capa = capacity !== '' ? +capacity : 1;\n            repe = repetition !== '' ? +repetition : 0;\n        } catch (error) {\n            console.log('Could not convert string to number');\n        }\n        const activity: Activity = {\n            title: title,\n            time: getTimeFormat(),\n            repeat: repe,\n            userId: user,\n            capacity: capa,\n            groupId: id,\n            description: escapedJSONDescription(),\n            image: image,\n            activityLevel: activityLevel.toUpperCase(),\n            equipmentList: getEquipmentString(),\n            tags: getTagString(),\n            latitude: location.lat,\n            longitude: location.lng,\n        };\n        console.log(activity);\n\n        axios\n            .post('/activity', activity, config)\n            .then((response) => {\n                JSON.stringify(response);\n                console.log(response.data);\n            })\n            .then(() => {\n                handleReset();\n                setOpenPopup(!openPopup);\n            })\n            .catch((error) =>\n                console.log(error.response.data)\n            );\n    };\n\n    const onKeyDown = (e: any) => {\n        if (e.code === 'ArrowRight' && page < 8) {\n            setPage(page + 1);\n        }\n        if (e.code === 'ArrowLeft' && page > 1) {\n            setPage(page - 1);\n        }\n    };\n\n    const changeActivity = async () => {\n        console.log(activityLevel)\n        const sendActivity = {\n            title: title,\n            time: getTimeFormat(),\n            repeat: repetition,\n            userId: user,\n            capacity: capacity,\n            groupId: 0,\n            description: escapedJSONDescription(),\n            image: image,\n            activityLevel: activityLevel.toUpperCase(),\n            equipmentList: getEquipmentString(),\n            tags: getTagString(),\n            latitude: location.lat,\n            longitude: location.lng,\n        };\n        console.log(sendActivity);\n        const token = localStorage.getItem('token');\n        const config = {\n            headers: {\n                token: token,\n            },\n        };\n        const request = await axios\n            .put(\n                `/activity/${activityResponse?.activityId}`,\n                sendActivity,\n                config\n            )\n            .then(() => {\n                handleReset();\n                setOpenPopup(!openPopup);\n            });\n        console.log(request);\n    };\n\n    const handleReset = () => {\n        setTitle('');\n        setDesc('');\n        setDate(new Date());\n        setDateDisplay('');\n        setEquipmentList([]);\n        setEquipmentDesc('');\n        setCounterAct(0);\n        setCounterTag(0);\n        setReset(true);\n        setOpenShowMap(false);\n        setTagList([]);\n        setTagsDesc('');\n        setActivityLevel('');\n        setCapacity('');\n        setRepetition('');\n    };\n\n    function getPosition(string: string, subString: string, index: number) {\n        return string.split(subString, index).join(subString).length;\n    }\n\n    function getDisplayDate(date: Date): string {\n        return date.toJSON().substring(0, getPosition(date.toJSON(), ':', 2));\n    }\n    useEffect(() => {\n        if (activityResponse !== undefined) {\n            setIsActivityResponse(true);\n            console.log(activityResponse);\n            setTitle(activityResponse.title);\n            setLocation({\n                lat: activityResponse.latitude,\n                lng: activityResponse.longitude,\n            });\n            const date: Date = new Date(activityResponse.time);\n            setDate(date);\n            setDateDisplay(getDisplayDate(date));\n\n            setDesc(activityResponse.description);\n            setImage(activityResponse.image);\n            let i = 0;\n            activityResponse.tags.map((tag) => {\n                tagList.push({ tagId: i, description: tag });\n                i++;\n            });\n            setEquipmentList(activityResponse.equipments);\n            setActivityLevel(activityResponse.activityLevel);\n            setCapacity(activityResponse.capacity + '');\n            setRepetition(activityResponse.daysToRepeat + '');\n        }\n    }, []);\n\n    return (\n        <div className=\"activityform\" onKeyDown={onKeyDown}>\n            {page === 1 && (\n                <div>\n                    <Typography\n                        className=\"activityform__containerItem1\"\n                        component=\"h2\"\n                    >\n                        Legg til tittel*\n                    </Typography>\n                    <StyledTextField\n                        label=\"Tittel\"\n                        value={title}\n                        onChange={onChangeTitle}\n                        variant=\"outlined\"\n                    />\n                </div>\n            )}\n            {page === 2 && (\n                <div>\n                    <Typography component=\"h2\">Legg til plassering*</Typography>\n                    <div className=\"activityform__place\">\n                        <div className=\"activityform__placeItem1\">\n                            <GeoSuggest\n                                onLocationChange={(location) => {\n                                    setLocation(location);\n                                }}\n                            />\n                        </div>\n                        <StyledButton\n                            className=\"activityform__placeButton\"\n                            onClick={() => setOpenShowMap(!openShowMap)}\n                        >\n                            Vis på kart\n                        </StyledButton>\n                        <Popup\n                            openPopup={openShowMap}\n                            setOpenPopup={setOpenShowMap}\n                            maxWidth=\"lg\"\n                        >\n                            <MapComponent\n                                width=\"75vh\"\n                                height=\"75vh\"\n                                defaultCenter={location}\n                            >\n                                <Marker position={location}></Marker>\n                            </MapComponent>\n                        </Popup>\n                    </div>\n                </div>\n            )}\n            {page === 3 && (\n                <div>\n                    <Typography\n                        className=\"activityform__containerItem1\"\n                        component=\"h2\"\n                    >\n                        Legg til dato\n                    </Typography>\n                    <StyledTextField\n                        label=\"Dato\"\n                        type=\"datetime-local\"\n                        defaultValue={dateDisplay}\n                        value={dateDisplay}\n                        InputLabelProps={{\n                            shrink: true,\n                        }}\n                        onChange={onChangeDate}\n                        variant=\"outlined\"\n                    />\n                </div>\n            )}\n            {page === 4 && (\n                <div>\n                    <Typography\n                        className=\"activityform__containerItem1\"\n                        component=\"h2\"\n                    >\n                        Legg til beskrivelse\n                    </Typography>\n                    <StyledTextField\n                        className=\"activityform__description\"\n                        label=\"Beskrivelse\"\n                        value={desc}\n                        onChange={onChangeDesc}\n                        variant=\"outlined\"\n                        rows={4}\n                        multiline\n                    />\n                </div>\n            )}\n            {page === 5 && (\n                <div>\n                    <Typography\n                        className=\"activityform__containerItem1\"\n                        component=\"h2\"\n                    >\n                        Legg til bilde\n                    </Typography>\n                    <StyledTextField\n                        type=\"file\"\n                        label=\"Bilde\"\n                        onChange={onChangeImage}\n                        InputLabelProps={{\n                            shrink: true,\n                        }}\n                        variant=\"outlined\"\n                    />\n                    <img src={image} style={{ maxHeight: '40px' }} />\n                </div>\n            )}\n            {page === 6 && (\n                <div>\n                    <div className=\"activityform__header\">\n                        <Typography\n                            className=\"activityform__headerItem1\"\n                            component=\"h2\"\n                        >\n                            Legg til tags\n                        </Typography>\n                        <Tooltip\n                            placement=\"right-start\"\n                            title=\"Press enter for å legge til. Trykk for å fjerne\"\n                        >\n                            <InfoIcon />\n                        </Tooltip>\n                    </div>\n                    <StyledTextField\n                        label=\"Tags\"\n                        onChange={onChangeTagsDesc}\n                        onKeyPress={addTags}\n                        value={tagsDesc}\n                        variant=\"outlined\"\n                    />\n                    <ul className=\"activityform__list\">\n                        {reset === false &&\n                            tagList.map((tag) => (\n                                <li\n                                    key={tag.tagId}\n                                    onClick={deleteTag.bind(this, tag.tagId)}\n                                >\n                                    {tag.description}\n                                </li>\n                            ))}\n                    </ul>\n                </div>\n            )}\n            {page === 7 && (\n                <div>\n                    <div className=\"activityform__header\">\n                        <Typography\n                            className=\"activityform__headerItem1\"\n                            component=\"h2\"\n                        >\n                            Legg til utstyr\n                        </Typography>\n                        <Tooltip\n                            placement=\"right-start\"\n                            title=\"Press enter for å legge til. Trykk for å fjerne\"\n                        >\n                            <InfoIcon />\n                        </Tooltip>\n                    </div>\n                    <StyledTextField\n                        label=\"Utstyr\"\n                        value={equipmentDesc}\n                        variant=\"outlined\"\n                        onChange={onChangeEqipmentDesc}\n                        onKeyPress={addEquipment}\n                    />\n                    <ul className=\"activityform__list\">\n                        {reset === false &&\n                            equipmentList.map((equipment) => (\n                                <li\n                                    key={equipment.equipmentId}\n                                    onClick={deleteEquipment.bind(\n                                        this,\n                                        equipment.equipmentId\n                                    )}\n                                >\n                                    {equipment.description}\n                                </li>\n                            ))}\n                    </ul>\n                </div>\n            )}\n            {page === 8 && (\n                <div>\n                    <div className=\"activityform__header\">\n                        <Typography className=\"activityform__headerItem1\">\n                            Legg til aktivitetsgrad*, plasser og gjentakninger\n                        </Typography>\n                        <Tooltip\n                            placement=\"left-end\"\n                            title=\"Plasser må være minst 1. Gjentakninger vil opprette en tilsvarende aktivitet 1 uke frem tid. Gjentakninger må være mellom 0 og 3.\"\n                        >\n                            <InfoIcon />\n                        </Tooltip>\n                    </div>\n                    <div className=\"acitivityform__containerItem2\">\n                        <TextField\n                            className=\"activityform__activityLevel\"\n                            label=\"Aktivitetgrad\"\n                            onChange={onChangeActivityLevel}\n                            value={activityLevel}\n                            variant=\"outlined\"\n                            select\n                        >\n                            <MenuItem value=\"High\">High</MenuItem>\n                            <MenuItem value=\"Medium\">Medium</MenuItem>\n                            <MenuItem value=\"Low\">Low</MenuItem>\n                        </TextField>\n                        <div className=\"acitivityform__containerItem22\">\n                            <NumberTextField\n                                className=\"acitivityform__numberbox\"\n                                label=\"Plasser\"\n                                type=\"number\"\n                                InputLabelProps={{\n                                    shrink: true,\n                                }}\n                                value={capacity}\n                                onChange={onChangeCapacity}\n                                variant=\"outlined\"\n                            />\n                            {!activityResponse &&\n                                <NumberTextField\n                                    className=\"acitivityform__numberbox\"\n                                    label=\"Gjentakinger\"\n                                    type=\"number\"\n                                    InputLabelProps={{\n                                        shrink: true,\n                                    }}\n                                    variant=\"outlined\"\n                                    value={repetition}\n                                    onChange={onChangeRepetitions}\n                                />\n                            }\n                        </div>\n                    </div>\n                    <ButtonsContainer>\n                        <StyledButton\n                            className=\"activityform__add\"\n                            onClick={\n                                isActivityResponse\n                                    ? changeActivity\n                                    : () => postActivity(groupId)\n                            }\n                            disabled={isDisabled()}\n                        >\n                            {isActivityResponse ? 'Endre ' : 'Legg til'}\n                        </StyledButton>\n                        <StyledButton\n                            className=\"activityform__reset\"\n                            onClick={handleReset}\n                        >\n                            Reset\n                        </StyledButton>\n                    </ButtonsContainer>\n                </div>\n            )}\n            <div className=\"activityform__pageContainer\">\n                <Pagination page={page} onChange={onPageChange} count={8} size=\"large\" />\n            </div>\n        </div>\n    );\n};\n\nexport default ActivityForm;\n"]},"metadata":{},"sourceType":"module"}