{"ast":null,"code":"import _objectSpread from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{TextField,Button,withStyles,Table,TableCell,TableRow,FormLabel,RadioGroup,FormControlLabel,Radio,MenuItem}from'@material-ui/core';import'./MyUser.css';import VisibilityIcon from'@material-ui/icons/Visibility';import VisibilityOffIcon from'@material-ui/icons/VisibilityOff';import{UserContext}from'../UserContext';import axios from'../Axios';import{useHistory}from'react-router-dom';import Popup from'./Popup';import EditIcon from'@material-ui/icons/Edit';import config from'../Config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledButton=withStyles({root:{background:'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',borderRadius:3,border:0,color:'white',height:48,padding:'0 30px',boxShadow:'0 3px 5px 2px rgba(255, 105, 135, .3)'},label:{textTransform:'capitalize'}})(Button);var MyUser=function MyUser(_ref){var openPopup=_ref.openPopup,setOpenPopup=_ref.setOpenPopup;var history=useHistory();var _useContext=useContext(UserContext),user=_useContext.user;var _useState=useState({firstName:'',surname:'',userId:'',email:'',image:'',password:'',phoneNumber:'',activityLevel:'',points:''}),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),firstName=_useState4[0],setFirstName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),surname=_useState6[0],setSurname=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),oldMail=_useState8[0],setOldMail=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),newMail=_useState10[0],setNewMail=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),phone=_useState12[0],setPhone=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),image=_useState14[0],setImage=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),activityLevel=_useState16[0],setActivityLevel=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),oldPassword=_useState18[0],setOldPassword=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),editPass=_useState20[0],setEditPass=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),confirmPass=_useState22[0],setConfirmPass=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),showPassword=_useState24[0],setShowPassword=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),showEditPass=_useState26[0],setShowEditPass=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),showConfirmPass=_useState28[0],setShowConfirmPass=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),noMatchPass=_useState30[0],setNoMatchPass=_useState30[1];var activityLevels=['Lav','Middels','Høy'];var _useState31=useState(),_useState32=_slicedToArray(_useState31,2),visualActivityLevel=_useState32[0],setVisualActivityLevel=_useState32[1];var _useState33=useState(''),_useState34=_slicedToArray(_useState33,2),popupTitle=_useState34[0],setPopupTitle=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),showChangeName=_useState36[0],setShowChangeName=_useState36[1];var _useState37=useState(false),_useState38=_slicedToArray(_useState37,2),showChangeEmail=_useState38[0],setShowChangeEmail=_useState38[1];var _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),showChangePhone=_useState40[0],setShowChangePhone=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),showChangeImage=_useState42[0],setShowChangeImage=_useState42[1];var _useState43=useState(false),_useState44=_slicedToArray(_useState43,2),showChangeActLvl=_useState44[0],setShowChangeActLvl=_useState44[1];var _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),showChangePass=_useState46[0],setShowChangePass=_useState46[1];var _useState47=useState(false),_useState48=_slicedToArray(_useState47,2),showConfirmDelete=_useState48[0],setShowConfirmDelete=_useState48[1];var _useState49=useState(false),_useState50=_slicedToArray(_useState49,2),isFirstTimeLogin=_useState50[0],setIsFirstTimeLogin=_useState50[1];var _useState51=useState(false),_useState52=_slicedToArray(_useState51,2),showIsFirstTime=_useState52[0],setShowIsFirstTime=_useState52[1];var checkInput=function checkInput(input){if(input.length>0&&input.charAt(0)!==' '){return true;}else{return false;}};var onChangeFirstName=function onChangeFirstName(event){var input=event.target.value;setFirstName(input);};var onChangeSurname=function onChangeSurname(event){var input=event.target.value;setSurname(input);};var onChangeOldMail=function onChangeOldMail(event){var input=event.target.value;setOldMail(input);};var onChangeNewMail=function onChangeNewMail(event){var input=event.target.value;setNewMail(input);};var onChangePhone=function onChangePhone(event){var input=event.target.value;setPhone(input);};var onChangeActivityLevel=function onChangeActivityLevel(event){var input=event.target.value;setVisualActivityLevel(input);var actLevel=input;if(actLevel==='Lav'){actLevel='Low';}else if(actLevel==='Middels'){actLevel='Medium';}else{actLevel='High';}setActivityLevel(actLevel);};var onChangePassword=function onChangePassword(event){var input=event.target.value;setOldPassword(input);};var onChangePassword1=function onChangePassword1(event){setNoMatchPass(false);var input=event.target.value;setEditPass(input);};var onChangePassword2=function onChangePassword2(event){setNoMatchPass(false);var input=event.target.value;setConfirmPass(input);};var onChangeImage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var file,base64;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(event);if(!(event.target.files!=null)){_context.next=10;break;}file=event.target.files[0];console.log(file);_context.next=6;return convertBase64(file);case 6:base64=_context.sent;console.log(base64);setImage(base64);console.log(image);case 10:case\"end\":return _context.stop();}}},_callee);}));return function onChangeImage(_x){return _ref2.apply(this,arguments);};}();var convertBase64=function convertBase64(file){return new Promise(function(resolve,reject){var fileReader=new FileReader();fileReader.readAsDataURL(file);fileReader.onload=function(){resolve(fileReader.result);};fileReader.onerror=function(error){reject(error);};});};var onClickChangeName=function onClickChangeName(){var putUrl=\"/user/\".concat(user);var sendUser=currentUser;if(checkInput(oldPassword)===false){alert('Skriv inn gammelt passord for å endre brukeren');return;}else{sendUser.password=oldPassword;}if(checkInput(firstName)){sendUser.firstName=firstName;axios.put(putUrl,sendUser,config).then(function(){setCurrentUser(_objectSpread(_objectSpread({},currentUser),{},{firstName:firstName}));}).catch(function(error){return console.log('Could not change firstname: '+error.message);});setFirstName('');setShowChangeName(!showChangeName);}if(checkInput(surname)){sendUser.surname=surname;console.log(sendUser);axios.put(putUrl,sendUser,config).then(function(response){console.log(response);setCurrentUser(_objectSpread(_objectSpread({},currentUser),{},{surname:surname}));}).catch(function(error){return console.log('Could not change firstname: '+error.message);});setSurname('');setShowChangeName(!showChangeName);}};var onClickChangeMail=function onClickChangeMail(){var putUrl=\"/user/\".concat(user);if(checkInput(oldPassword)===false){alert('Skriv inn gammelt passord for å endre brukeren');return;}if(checkInput(oldMail)&&oldMail===currentUser.email){if(newMail.indexOf('@')!==-1&&newMail.indexOf('.')!==-1){var sendUser={firstName:currentUser.firstName,surname:currentUser.surname,userID:user,email:currentUser.email,newEmail:newMail,password:oldPassword,phoneNumber:currentUser.phoneNumber,activityLevel:currentUser.activityLevel,image:currentUser.image};console.log(sendUser);axios.put(putUrl,sendUser,config).then(function(response){console.log(response);setCurrentUser(_objectSpread(_objectSpread({},currentUser),{},{email:newMail}));}).catch(function(error){return console.log('Could not change mail: '+error.message);});//setCurrentUser({ ...currentUser, email: newMail });\nsetOldMail('');setNewMail('');setShowChangeEmail(!showChangeEmail);}else{alert('Vennligst ha med alfakrøll og minst et punktum');}}else{alert('Vennligst skriv inn gammel mail for å endre brukeren');}};var onClickChangePhone=function onClickChangePhone(){var putUrl=\"/user/\".concat(user);var sendUser=currentUser;if(checkInput(oldPassword)===false){alert('Skriv inn gammelt passord for å endre brukeren');return;}else{sendUser.password=oldPassword;}if(checkInput(phone)){sendUser.phoneNumber=phone;axios.put(putUrl,sendUser,config).then(function(response){console.log(response);setCurrentUser(_objectSpread(_objectSpread({},currentUser),{},{phoneNumber:phone}));}).catch(function(error){return console.log('Could not change mail: '+error.message);});setPhone('');setShowChangePhone(!showChangePhone);}};var onClickChangeImage=function onClickChangeImage(){var putUrl=\"/user/\".concat(user);var sendUser=currentUser;if(checkInput(oldPassword)===false){alert('Skriv inn gammelt passord for å endre brukeren');return;}else{sendUser.password=oldPassword;}if(checkInput(image)){sendUser.image=image;axios.put(putUrl,sendUser,config).then(function(response){console.log(response);setCurrentUser(_objectSpread(_objectSpread({},currentUser),{},{image:image}));}).catch(function(error){return console.log('Could not change image: '+error.message);});setImage('');setShowChangeImage(!showChangeImage);}};var onClickChangeActLvl=function onClickChangeActLvl(){var putUrl=\"/user/\".concat(user);var sendUser=currentUser;if(checkInput(oldPassword)===false){alert('Skriv inn gammelt passord for å endre brukeren');return;}else{sendUser.password=oldPassword;}if(activityLevel.toUpperCase()==='LOW'||activityLevel.toUpperCase()==='MEDIUM'||activityLevel.toUpperCase()==='HIGH'){sendUser.activityLevel=activityLevel.toUpperCase();axios.put(putUrl,sendUser,config).then(function(response){console.log(response);setCurrentUser(_objectSpread(_objectSpread({},currentUser),{},{activityLevel:activityLevel}));}).catch(function(error){return console.log('Could not change activitylevel: '+error.message);});setActivityLevel('');setShowChangeActLvl(!showChangeActLvl);}};var onClickUpdateUser=function onClickUpdateUser(){console.log('hei hei');var putUrl=\"/user/some/\".concat(user);var token=localStorage.getItem('token');var config={headers:{token:token}};if(!checkInput(editPass)||!checkInput(confirmPass)){alert('Feil input i passord');}else if(editPass!=confirmPass){alert('Ulike passord');}else{axios.put(putUrl,{phoneNumber:phone,email:currentUser.email,firstName:currentUser.firstName,surname:currentUser.surname,activityLevel:activityLevel.toUpperCase(),newPassword:confirmPass,image:''},config).then(function(response){console.log('brukerinformasjon oppdatert'+response);setPhone(phone);setOldPassword(confirmPass);setActivityLevel(activityLevel);setIsFirstTimeLogin(!isFirstTimeLogin);setShowIsFirstTime(!showIsFirstTime);setCurrentUser(_objectSpread(_objectSpread({},currentUser),{},{phoneNumber:phone,activityLevel:activityLevel}));setIsFirstTimeLogin(!isFirstTimeLogin);setShowIsFirstTime(!showIsFirstTime);}).catch(function(error){console.log(error.message);});}};var showActivityLevel=function showActivityLevel(actLevel){if(actLevel==='HIGH'){return'Høyt';}else if(actLevel==='MEDIUM'){return'Middels';}else if(actLevel==='LOW'){return'Lavt';}};var onClickChangePass=function onClickChangePass(){var putUrl=\"/user/\".concat(user);var sendUser=currentUser;if(checkInput(oldPassword)===false){alert('Skriv inn gammelt passord for å endre brukeren');return;}// If the user has not changed the password, it is set to the current password. This is\n// becase the user needs to enter the password in order to change any of the information\nif(editPass===confirmPass&&checkInput(editPass)&&checkInput(confirmPass)){console.log(editPass);console.log(oldPassword);axios.put(putUrl,{firstName:sendUser.firstName,surname:sendUser.surname,userId:sendUser.userId,email:sendUser.email,image:sendUser.image,password:oldPassword,newPassword:editPass,phoneNumber:sendUser.phoneNumber,activityLevel:sendUser.activityLevel,points:sendUser.points},config).then(function(response){console.log(response);setCurrentUser(_objectSpread(_objectSpread({},currentUser),{},{password:editPass}));setShowChangePass(!showChangePass);}).catch(function(error){console.log('Kunne ikke endre passord'+error.message);});}else{setNoMatchPass(true);}setOldPassword('');setEditPass('');setConfirmPass('');};var onClickDeleteUser=function onClickDeleteUser(){console.log(user);console.log(config);axios.delete(\"user/\".concat(user),config).then(function(response){console.log(response);setCurrentUser(response.data);localStorage.clear();history.push('/');}).catch(function(error){console.log(error.response.data);});};useEffect(function(){function fetchUser(){return _fetchUser.apply(this,arguments);}function _fetchUser(){_fetchUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var request;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(user);_context2.next=3;return axios.get(\"/user/\".concat(user));case 3:request=_context2.sent;console.log(typeof request.data.phoneNumber);if(request.data.phoneNumber===-1){setIsFirstTimeLogin(!isFirstTimeLogin);setShowIsFirstTime(!showIsFirstTime);}request.data['password']='';console.log(request);setCurrentUser(request.data);return _context2.abrupt(\"return\",request);case 10:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchUser.apply(this,arguments);}fetchUser();},[]);return/*#__PURE__*/_jsx(\"div\",{children:isFirstTimeLogin?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"myuser__textfields\",children:[/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",label:\"Telefonnummer\",variant:\"outlined\",onChange:onChangePhone,value:phone}),/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",style:{width:'auto'},select:true,color:\"secondary\",label:\"Velg ditt aktivitetsniv\\xE5\",value:visualActivityLevel,onChange:onChangeActivityLevel,variant:\"outlined\",children:activityLevels.map(function(option,index){return/*#__PURE__*/_jsx(MenuItem,{value:option,children:option},index);})}),/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",type:showEditPass?'text':'password',label:\"Sett passord\",variant:\"outlined\",onChange:onChangePassword1,value:editPass}),showEditPass?/*#__PURE__*/_jsx(VisibilityIcon,{className:\"passwordicon\",onClick:function onClick(){setShowEditPass(!showEditPass);}}):/*#__PURE__*/_jsx(VisibilityOffIcon,{className:\"passwordicon\",onClick:function onClick(){setShowEditPass(!showEditPass);}}),/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",type:showConfirmPass?'text':'password',label:\"Bekreft passord\",variant:\"outlined\",onChange:onChangePassword2,value:confirmPass}),showConfirmPass?/*#__PURE__*/_jsx(VisibilityIcon,{className:\"passwordicon\",onClick:function onClick(){setShowConfirmPass(!showConfirmPass);}}):/*#__PURE__*/_jsx(VisibilityOffIcon,{className:\"passwordicon\",onClick:function onClick(){setShowConfirmPass(!showConfirmPass);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"myuser__buttons\",children:[/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:function onClick(){onClickUpdateUser();},children:\"Bekreft\"}),/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:function onClick(){setIsFirstTimeLogin(!isFirstTimeLogin);setShowIsFirstTime(!showIsFirstTime);setOpenPopup(!openPopup);},children:\"Avbryt\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"myuser\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:\"Navn\"}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",children:[currentUser.firstName,' ',currentUser.surname]}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setPopupTitle('Endre navn');setShowChangeName(!showChangeName);},children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsxs(Popup,{title:popupTitle,openPopup:showChangeName,setOpenPopup:setShowChangeName,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"myuser__textfields\",children:[/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",label:\"Endre fornavn\",variant:\"outlined\",onChange:onChangeFirstName,value:firstName}),/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",label:\"Endre etternavn\",variant:\"outlined\",onChange:onChangeSurname,value:surname}),/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",type:showPassword?'text':'password',label:\"Passord*\",variant:\"outlined\",onChange:onChangePassword})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"myuser__buttons\",children:[/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:onClickChangeName,children:\"Bekreft\"}),/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:function onClick(){return setShowChangeName(!showChangeName);},children:\"Avbryt\"})]})]})]})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:currentUser.email}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setPopupTitle('Endre mail');setShowChangeEmail(!showChangeEmail);},children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsxs(Popup,{openPopup:showChangeEmail,setOpenPopup:setShowChangeEmail,title:popupTitle,children:[/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",label:\"Gammel mail\",variant:\"outlined\",onChange:onChangeOldMail,value:oldMail}),/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",label:\"Ny mail\",variant:\"outlined\",onChange:onChangeNewMail,value:newMail}),/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",type:showPassword?'text':'password',label:\"Passord*\",variant:\"outlined\",onChange:onChangePassword}),/*#__PURE__*/_jsxs(\"div\",{className:\"myuser__buttons\",children:[/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:onClickChangeMail,children:\"Bekreft\"}),/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:function onClick(){setShowChangeEmail(!showChangeEmail);},children:\"Avbryt\"})]})]})]})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:\"Telefon\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:currentUser.phoneNumber}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setPopupTitle('Endre telefonnummer');setShowChangePhone(!showChangePhone);},children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsxs(Popup,{title:popupTitle,openPopup:showChangePhone,setOpenPopup:setShowChangePhone,children:[/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",label:\"Endre telefon\",variant:\"outlined\",onChange:onChangePhone,value:phone}),/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",type:showPassword?'text':'password',label:\"Passord*\",variant:\"outlined\",onChange:onChangePassword}),/*#__PURE__*/_jsxs(\"div\",{className:\"myuser__buttons\",children:[/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:onClickChangePhone,children:\"Bekreft\"}),/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:function onClick(){setShowChangePhone(!showChangePhone);},children:\"Avbryt\"})]})]})]})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:\"Bilde\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"img\",{style:{height:'35px'},src:currentUser.image,alt:\"Fant ikke bildet\"})}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setPopupTitle('Endre bilde');setShowChangeImage(!showChangeImage);},children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsxs(Popup,{title:popupTitle,openPopup:showChangeImage,setOpenPopup:setShowChangeImage,children:[/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",label:\"Endre bilde\",variant:\"outlined\",onChange:onChangeImage,type:\"file\",InputLabelProps:{shrink:true}}),/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",type:showPassword?'text':'password',label:\"Passord*\",variant:\"outlined\",onChange:onChangePassword}),/*#__PURE__*/_jsxs(\"div\",{className:\"myuser__buttons\",children:[/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:onClickChangeImage,children:\"Bekreft\"}),/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:function onClick(){setShowChangeImage(!showChangeImage);},children:\"Avbryt\"})]})]})]})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:\"Aktivitetsniv\\xE5\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:showActivityLevel(currentUser.activityLevel)}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setPopupTitle('Endre aktivitetsnivå');setShowChangeActLvl(!showChangeActLvl);},children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsxs(Popup,{title:popupTitle,openPopup:showChangeActLvl,setOpenPopup:setShowChangeActLvl,children:[/*#__PURE__*/_jsx(FormLabel,{component:\"label\",children:\"Aktivitetsniv\\xE5\"}),/*#__PURE__*/_jsxs(RadioGroup,{children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Radio,{}),label:\"Lavt\",onClick:function onClick(){return setActivityLevel('LOW');},value:\"low\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Radio,{}),label:\"Middels\",onClick:function onClick(){return setActivityLevel('MEDIUM');},value:\"medium\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Radio,{}),label:\"H\\xF8yt\",onClick:function onClick(){return setActivityLevel('HIGH');},value:\"high\"})]}),/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",type:showPassword?'text':'password',label:\"Passord*\",variant:\"outlined\",onChange:onChangePassword}),/*#__PURE__*/_jsxs(\"div\",{className:\"myuser__buttons\",children:[/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:onClickChangeActLvl,children:\"Bekreft\"}),/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:function onClick(){setShowChangeActLvl(!showChangeActLvl);},children:\"Avbryt\"})]})]})]})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:\"Passord\"}),/*#__PURE__*/_jsx(TableCell,{}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setPopupTitle('Endre passord');setShowChangePass(!showChangePass);},children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsx(Popup,{openPopup:showChangePass,setOpenPopup:setShowChangePass,title:popupTitle,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",type:showEditPass?'text':'password',label:\"Endre passord\",variant:\"outlined\",onChange:onChangePassword1,value:editPass}),showEditPass?/*#__PURE__*/_jsx(VisibilityIcon,{className:\"passwordicon\",onClick:function onClick(){setShowEditPass(!showEditPass);}}):/*#__PURE__*/_jsx(VisibilityOffIcon,{className:\"passwordicon\",onClick:function onClick(){setShowEditPass(!showEditPass);}}),/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",type:showConfirmPass?'text':'password',label:\"Bekreft passord\",variant:\"outlined\",onChange:onChangePassword2,value:confirmPass}),showConfirmPass?/*#__PURE__*/_jsx(VisibilityIcon,{className:\"passwordicon\",onClick:function onClick(){setShowConfirmPass(!showConfirmPass);}}):/*#__PURE__*/_jsx(VisibilityOffIcon,{className:\"passwordicon\",onClick:function onClick(){setShowConfirmPass(!showConfirmPass);}}),/*#__PURE__*/_jsx(TextField,{className:\"myuser__textfield\",type:showPassword?'text':'password',label:\"Passord*\",variant:\"outlined\",onChange:onChangePassword}),showPassword?/*#__PURE__*/_jsx(VisibilityIcon,{className:\"passwordicon\",onClick:function onClick(){setShowPassword(!showPassword);}}):/*#__PURE__*/_jsx(VisibilityOffIcon,{className:\"passwordicon\",onClick:function onClick(){setShowPassword(!showPassword);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"myuser__buttons\",children:[/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:onClickChangePass,children:\"Bekreft\"}),/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:function onClick(){setShowChangePass(!showChangePass);},children:\"Avbryt\"})]}),/*#__PURE__*/_jsx(\"div\",{children:noMatchPass&&/*#__PURE__*/_jsx(\"h5\",{children:\"Passordene er ulike!\"})})]})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"myuser__textfields\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"myuser__buttons\",children:[/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__deleteButton\",onClick:function onClick(){return setShowConfirmDelete(!showConfirmDelete);},children:\"Slett bruker\"}),/*#__PURE__*/_jsx(Popup,{title:\"Er du sikker p\\xE5 at du vil slette brukeren?\",openPopup:showConfirmDelete,setOpenPopup:setShowConfirmDelete,children:/*#__PURE__*/_jsxs(\"div\",{className:\"myuser__buttons\",children:[/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:onClickDeleteUser,children:\"Bekreft\"}),/*#__PURE__*/_jsx(StyledButton,{className:\"myuser__button\",onClick:function onClick(){return setShowConfirmDelete(!showConfirmDelete);},children:\"Avbryt\"})]})})]})]})});};export default MyUser;","map":{"version":3,"sources":["/Users/olelokken/DEV/gidd/client/src/components/MyUser.tsx"],"names":["React","useState","useContext","useEffect","TextField","Button","withStyles","Table","TableCell","TableRow","FormLabel","RadioGroup","FormControlLabel","Radio","MenuItem","VisibilityIcon","VisibilityOffIcon","UserContext","axios","useHistory","Popup","EditIcon","config","StyledButton","root","background","borderRadius","border","color","height","padding","boxShadow","label","textTransform","MyUser","openPopup","setOpenPopup","history","user","firstName","surname","userId","email","image","password","phoneNumber","activityLevel","points","currentUser","setCurrentUser","setFirstName","setSurname","oldMail","setOldMail","newMail","setNewMail","phone","setPhone","setImage","setActivityLevel","oldPassword","setOldPassword","editPass","setEditPass","confirmPass","setConfirmPass","showPassword","setShowPassword","showEditPass","setShowEditPass","showConfirmPass","setShowConfirmPass","noMatchPass","setNoMatchPass","activityLevels","visualActivityLevel","setVisualActivityLevel","popupTitle","setPopupTitle","showChangeName","setShowChangeName","showChangeEmail","setShowChangeEmail","showChangePhone","setShowChangePhone","showChangeImage","setShowChangeImage","showChangeActLvl","setShowChangeActLvl","showChangePass","setShowChangePass","showConfirmDelete","setShowConfirmDelete","isFirstTimeLogin","setIsFirstTimeLogin","showIsFirstTime","setShowIsFirstTime","checkInput","input","length","charAt","onChangeFirstName","event","target","value","onChangeSurname","onChangeOldMail","onChangeNewMail","onChangePhone","onChangeActivityLevel","actLevel","onChangePassword","onChangePassword1","onChangePassword2","onChangeImage","console","log","files","file","convertBase64","base64","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","onerror","error","onClickChangeName","putUrl","sendUser","alert","put","then","catch","message","response","onClickChangeMail","indexOf","userID","newEmail","onClickChangePhone","onClickChangeImage","onClickChangeActLvl","toUpperCase","onClickUpdateUser","token","localStorage","getItem","headers","newPassword","showActivityLevel","onClickChangePass","onClickDeleteUser","delete","data","clear","push","fetchUser","get","request","width","map","option","index","shrink"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, useState, useContext, useEffect } from 'react';\nimport {\n    TextField,\n    Button,\n    withStyles,\n    Table,\n    TableCell,\n    TableRow,\n    FormLabel,\n    RadioGroup,\n    FormControlLabel,\n    Radio,\n    MenuItem,\n} from '@material-ui/core';\nimport './MyUser.css';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport { UserContext } from '../UserContext';\nimport axios from '../Axios';\nimport { useHistory } from 'react-router-dom';\nimport Popup from './Popup';\nimport User from '../interfaces/User';\nimport EditIcon from '@material-ui/icons/Edit';\nimport config from '../Config'\n\nconst StyledButton = withStyles({\n    root: {\n        background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n        borderRadius: 3,\n        border: 0,\n        color: 'white',\n        height: 48,\n        padding: '0 30px',\n        boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n    },\n    label: {\n        textTransform: 'capitalize',\n    },\n})(Button);\n\ninterface Props {\n    openPopup: boolean;\n    setOpenPopup: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\n\nconst MyUser: React.FC<Props> = ({ openPopup, setOpenPopup }: Props) => {\n    const history = useHistory();\n    const { user } = useContext(UserContext);\n    const [currentUser, setCurrentUser] = useState<User>({\n        firstName: '',\n        surname: '',\n        userId: '',\n        email: '',\n        image: '',\n        password: '',\n        phoneNumber: '',\n        activityLevel: '',\n        points: '',\n    });\n    const [firstName, setFirstName] = useState<string>('');\n    const [surname, setSurname] = useState<string>('');\n    const [oldMail, setOldMail] = useState<string>('');\n    const [newMail, setNewMail] = useState<string>('');\n    const [phone, setPhone] = useState<string>('');\n    const [image, setImage] = useState<string>('');\n    const [activityLevel, setActivityLevel] = useState<string>('');\n    const [oldPassword, setOldPassword] = useState<string>('');\n    const [editPass, setEditPass] = useState<string>('');\n    const [confirmPass, setConfirmPass] = useState<string>('');\n    const [showPassword, setShowPassword] = useState<boolean>(false);\n    const [showEditPass, setShowEditPass] = useState<boolean>(false);\n    const [showConfirmPass, setShowConfirmPass] = useState<boolean>(false);\n    const [noMatchPass, setNoMatchPass] = useState<boolean>(false);\n    const activityLevels: string[] = ['Lav', 'Middels', 'Høy'];\n    const [visualActivityLevel, setVisualActivityLevel] = useState<string>();\n\n    const [popupTitle, setPopupTitle] = useState<string>('');\n    const [showChangeName, setShowChangeName] = useState<boolean>(false);\n    const [showChangeEmail, setShowChangeEmail] = useState<boolean>(false);\n    const [showChangePhone, setShowChangePhone] = useState<boolean>(false);\n    const [showChangeImage, setShowChangeImage] = useState<boolean>(false);\n    const [showChangeActLvl, setShowChangeActLvl] = useState<boolean>(false);\n    const [showChangePass, setShowChangePass] = useState<boolean>(false);\n    const [showConfirmDelete, setShowConfirmDelete] = useState<boolean>(false);\n    const [isFirstTimeLogin, setIsFirstTimeLogin] = useState<boolean>(false);\n    const [showIsFirstTime, setShowIsFirstTime] = useState<boolean>(false);\n\n\n    const checkInput = (input: string): boolean => {\n        if (input.length > 0 && input.charAt(0) !== ' ') {\n            return true;\n        } else {\n            return false;\n        }\n    };\n    const onChangeFirstName = (event: ChangeEvent<HTMLInputElement>) => {\n        const input: string = (event.target as HTMLInputElement).value;\n        setFirstName(input);\n    };\n\n    const onChangeSurname = (event: ChangeEvent<HTMLInputElement>) => {\n        const input: string = (event.target as HTMLInputElement).value;\n        setSurname(input);\n    };\n\n    const onChangeOldMail = (event: ChangeEvent<HTMLInputElement>) => {\n        const input: string = (event.target as HTMLInputElement).value;\n        setOldMail(input);\n    };\n\n    const onChangeNewMail = (event: ChangeEvent<HTMLInputElement>) => {\n        const input: string = (event.target as HTMLInputElement).value;\n        setNewMail(input);\n    };\n\n    const onChangePhone = (event: ChangeEvent<HTMLInputElement>) => {\n        const input: string = (event.target as HTMLInputElement).value;\n        setPhone(input);\n    };\n\n    const onChangeActivityLevel = (event: ChangeEvent<HTMLInputElement>) => {\n        const input: string = (event.target as HTMLInputElement).value;\n        setVisualActivityLevel(input);\n        let actLevel = input;\n        if (actLevel === 'Lav') {\n            actLevel = 'Low';\n        } else if (actLevel === 'Middels') {\n            actLevel = 'Medium';\n        } else {\n            actLevel = 'High';\n        }\n        setActivityLevel(actLevel);\n    };\n    const onChangePassword = (event: ChangeEvent<HTMLInputElement>) => {\n        const input: string = (event.target as HTMLInputElement).value;\n        setOldPassword(input);\n    };\n\n    const onChangePassword1 = (event: ChangeEvent<HTMLInputElement>) => {\n        setNoMatchPass(false);\n        const input: string = (event.target as HTMLInputElement).value;\n        setEditPass(input);\n    };\n\n    const onChangePassword2 = (event: ChangeEvent<HTMLInputElement>) => {\n        setNoMatchPass(false);\n        const input: string = (event.target as HTMLInputElement).value;\n        setConfirmPass(input);\n    };\n\n    const onChangeImage = async (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        console.log(event);\n        if (event.target.files != null) {\n            const file: File = event.target.files[0];\n            console.log(file);\n            const base64 = await convertBase64(file);\n            console.log(base64);\n            setImage(base64);\n            console.log(image);\n        }\n    };\n\n    const convertBase64 = (file: File) => {\n        return new Promise<any>((resolve, reject) => {\n            const fileReader = new FileReader();\n            fileReader.readAsDataURL(file);\n\n            fileReader.onload = () => {\n                resolve(fileReader.result);\n            };\n            fileReader.onerror = (error) => {\n                reject(error);\n            };\n        });\n    };\n\n    const onClickChangeName = () => {\n        const putUrl = `/user/${user}`;\n        const sendUser: User = currentUser;\n        if (checkInput(oldPassword) === false) {\n            alert('Skriv inn gammelt passord for å endre brukeren');\n            return;\n        } else {\n            sendUser.password = oldPassword;\n        }\n        if (checkInput(firstName)) {\n            sendUser.firstName = firstName;\n            axios\n                .put(putUrl, sendUser, config)\n                .then(() => {\n                    setCurrentUser({ ...currentUser, firstName: firstName });\n                })\n                .catch((error) =>\n                    console.log('Could not change firstname: ' + error.message)\n                );\n            setFirstName('');\n            setShowChangeName(!showChangeName);\n        }\n        if (checkInput(surname)) {\n            sendUser.surname = surname;\n            console.log(sendUser);\n            axios\n                .put(putUrl, sendUser, config)\n                .then((response) => {\n                    console.log(response);\n                    setCurrentUser({ ...currentUser, surname: surname });\n                })\n                .catch((error) =>\n                    console.log('Could not change firstname: ' + error.message)\n                );\n            setSurname('');\n            setShowChangeName(!showChangeName);\n        }\n    };\n\n    const onClickChangeMail = () => {\n        const putUrl = `/user/${user}`;\n        if (checkInput(oldPassword) === false) {\n            alert('Skriv inn gammelt passord for å endre brukeren');\n            return;\n        }\n        if (checkInput(oldMail) && oldMail === currentUser.email) {\n            if (newMail.indexOf('@') !== -1 && newMail.indexOf('.') !== -1) {\n                const sendUser = {\n                    firstName: currentUser.firstName,\n                    surname: currentUser.surname,\n                    userID: user,\n                    email: currentUser.email,\n                    newEmail: newMail,\n                    password: oldPassword,\n                    phoneNumber: currentUser.phoneNumber,\n                    activityLevel: currentUser.activityLevel,\n                    image: currentUser.image,\n                };\n                console.log(sendUser);\n                axios\n                    .put(putUrl, sendUser, config)\n                    .then((response) => {\n                        console.log(response);\n                        setCurrentUser({ ...currentUser, email: newMail });\n                    })\n                    .catch((error) =>\n                        console.log('Could not change mail: ' + error.message)\n                    );\n                //setCurrentUser({ ...currentUser, email: newMail });\n                setOldMail('');\n                setNewMail('');\n                setShowChangeEmail(!showChangeEmail);\n            } else {\n                alert('Vennligst ha med alfakrøll og minst et punktum');\n            }\n        } else {\n            alert('Vennligst skriv inn gammel mail for å endre brukeren');\n        }\n    };\n\n    const onClickChangePhone = () => {\n        const putUrl = `/user/${user}`;\n        const sendUser: User = currentUser;\n\n        if (checkInput(oldPassword) === false) {\n            alert('Skriv inn gammelt passord for å endre brukeren');\n            return;\n        } else {\n            sendUser.password = oldPassword;\n        }\n        if (checkInput(phone)) {\n            sendUser.phoneNumber = phone;\n            axios\n                .put(putUrl, sendUser, config)\n                .then((response) => {\n                    console.log(response);\n                    setCurrentUser({ ...currentUser, phoneNumber: phone });\n                })\n                .catch((error) =>\n                    console.log('Could not change mail: ' + error.message)\n                );\n            setPhone('');\n            setShowChangePhone(!showChangePhone);\n        }\n    };\n\n    const onClickChangeImage = () => {\n        const putUrl = `/user/${user}`;\n        const sendUser: User = currentUser;\n\n        if (checkInput(oldPassword) === false) {\n            alert('Skriv inn gammelt passord for å endre brukeren');\n            return;\n        } else {\n            sendUser.password = oldPassword;\n        }\n        if (checkInput(image)) {\n            sendUser.image = image;\n            axios\n                .put(putUrl, sendUser, config)\n                .then((response) => {\n                    console.log(response);\n                    setCurrentUser({ ...currentUser, image: image });\n                })\n                .catch((error) =>\n                    console.log('Could not change image: ' + error.message)\n                );\n            setImage('');\n            setShowChangeImage(!showChangeImage);\n        }\n    };\n\n    const onClickChangeActLvl = () => {\n        const putUrl = `/user/${user}`;\n        const sendUser: User = currentUser;\n\n        if (checkInput(oldPassword) === false) {\n            alert('Skriv inn gammelt passord for å endre brukeren');\n            return;\n        } else {\n            sendUser.password = oldPassword;\n        }\n        if (\n            activityLevel.toUpperCase() === 'LOW' ||\n            activityLevel.toUpperCase() === 'MEDIUM' ||\n            activityLevel.toUpperCase() === 'HIGH'\n        ) {\n            sendUser.activityLevel = activityLevel.toUpperCase();\n            axios\n                .put(putUrl, sendUser, config)\n                .then((response) => {\n                    console.log(response);\n                    setCurrentUser({\n                        ...currentUser,\n                        activityLevel: activityLevel,\n                    });\n                })\n                .catch((error) =>\n                    console.log(\n                        'Could not change activitylevel: ' + error.message\n                    )\n                );\n            setActivityLevel('');\n            setShowChangeActLvl(!showChangeActLvl);\n        }\n    };\n\n    const onClickUpdateUser = () => {\n        console.log('hei hei');\n        const putUrl = `/user/some/${user}`;\n        const token = localStorage.getItem('token');\n        const config = {\n            headers: {\n                token: token,\n            },\n        };\n        if (!checkInput(editPass) || !checkInput(confirmPass)) {\n            alert('Feil input i passord');\n        } else if (editPass != confirmPass) {\n            alert('Ulike passord');\n        } else {\n            axios\n                .put(\n                    putUrl,\n                    {\n                        phoneNumber: phone,\n                        email: currentUser.email,\n                        firstName: currentUser.firstName,\n                        surname: currentUser.surname,\n                        activityLevel: activityLevel.toUpperCase(),\n                        newPassword: confirmPass,\n                        image: ''\n                    },\n                    config\n                )\n                .then((response) => {\n                    console.log('brukerinformasjon oppdatert' + response);\n                    setPhone(phone);\n                    setOldPassword(confirmPass);\n                    setActivityLevel(activityLevel);\n                    setIsFirstTimeLogin(!isFirstTimeLogin);\n                    setShowIsFirstTime(!showIsFirstTime);\n                    setCurrentUser({\n                        ...currentUser,\n                        phoneNumber: phone,\n                        activityLevel: activityLevel,\n                    });\n                    setIsFirstTimeLogin(!isFirstTimeLogin);\n                    setShowIsFirstTime(!showIsFirstTime);\n                })\n                .catch((error) => {\n                    console.log(error.message);\n                });\n        }\n    };\n\n\n    const showActivityLevel = (actLevel: string) => {\n        if (actLevel === 'HIGH') {\n            return 'Høyt'\n        } else if (actLevel === 'MEDIUM') {\n            return 'Middels'\n        } else if (actLevel === 'LOW') {\n            return 'Lavt'\n        }\n    }\n\n    const onClickChangePass = () => {\n        const putUrl = `/user/${user}`;\n        const sendUser: User = currentUser;\n\n        if (checkInput(oldPassword) === false) {\n            alert('Skriv inn gammelt passord for å endre brukeren');\n            return;\n        }\n        // If the user has not changed the password, it is set to the current password. This is\n        // becase the user needs to enter the password in order to change any of the information\n        if (\n            editPass === confirmPass &&\n            checkInput(editPass) &&\n            checkInput(confirmPass)\n        ) {\n            console.log(editPass);\n            console.log(oldPassword);\n            axios\n                .put(\n                    putUrl,\n                    {\n                        firstName: sendUser.firstName,\n                        surname: sendUser.surname,\n                        userId: sendUser.userId,\n                        email: sendUser.email,\n                        image: sendUser.image,\n                        password: oldPassword,\n                        newPassword: editPass,\n                        phoneNumber: sendUser.phoneNumber,\n                        activityLevel: sendUser.activityLevel,\n                        points: sendUser.points,\n                    },\n                    config\n                )\n                .then((response) => {\n                    console.log(response);\n                    setCurrentUser({ ...currentUser, password: editPass });\n                    setShowChangePass(!showChangePass);\n                })\n                .catch((error) => {\n                    console.log('Kunne ikke endre passord' + error.message);\n                });\n        } else {\n            setNoMatchPass(true);\n        }\n        setOldPassword('');\n        setEditPass('');\n        setConfirmPass('');\n    };\n\n    const onClickDeleteUser = () => {\n        console.log(user);\n        console.log(config)\n        axios\n            .delete(`user/${user}`, config)\n            .then((response) => {\n                console.log(response);\n                setCurrentUser(response.data);\n                localStorage.clear();\n                history.push('/');\n\n            })\n            .catch((error) => {\n                console.log(error.response.data);\n            });\n    };\n\n    useEffect(() => {\n        async function fetchUser() {\n            console.log(user);\n            const request = await axios.get(`/user/${user}`);\n            console.log(typeof request.data.phoneNumber);\n            if (request.data.phoneNumber === -1) {\n                setIsFirstTimeLogin(!isFirstTimeLogin);\n                setShowIsFirstTime(!showIsFirstTime);\n            }\n            request.data['password'] = '';\n            console.log(request);\n            setCurrentUser(request.data);\n            return request;\n        }\n        fetchUser();\n    }, []);\n\n    return (\n        <div>\n            {isFirstTimeLogin ? (\n                <div>\n                    <div className=\"myuser__textfields\">\n                        <TextField\n                            className=\"myuser__textfield\"\n                            label=\"Telefonnummer\"\n                            variant=\"outlined\"\n                            onChange={onChangePhone}\n                            value={phone}\n                        />\n                        <TextField\n                            className=\"myuser__textfield\"\n                            style={{\n                                width: 'auto',\n                            }}\n                            select\n                            color=\"secondary\"\n                            label=\"Velg ditt aktivitetsnivå\"\n                            value={visualActivityLevel}\n                            onChange={onChangeActivityLevel}\n                            variant=\"outlined\"\n                        >\n                            {activityLevels.map((option, index) => (\n                                <MenuItem key={index} value={option}>\n                                    {option}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                        <TextField\n                            className=\"myuser__textfield\"\n                            type={showEditPass ? 'text' : 'password'}\n                            label=\"Sett passord\"\n                            variant=\"outlined\"\n                            onChange={onChangePassword1}\n                            value={editPass}\n                        />\n                        {showEditPass ? (\n                            <VisibilityIcon\n                                className=\"passwordicon\"\n                                onClick={() => {\n                                    setShowEditPass(!showEditPass);\n                                }}\n                            />\n                        ) : (\n                            <VisibilityOffIcon\n                                className=\"passwordicon\"\n                                onClick={() => {\n                                    setShowEditPass(!showEditPass);\n                                }}\n                            />\n                        )}\n                        <TextField\n                            className=\"myuser__textfield\"\n                            type={showConfirmPass ? 'text' : 'password'}\n                            label=\"Bekreft passord\"\n                            variant=\"outlined\"\n                            onChange={onChangePassword2}\n                            value={confirmPass}\n                        />\n                        {showConfirmPass ? (\n                            <VisibilityIcon\n                                className=\"passwordicon\"\n                                onClick={() => {\n                                    setShowConfirmPass(!showConfirmPass);\n                                }}\n                            />\n                        ) : (\n                            <VisibilityOffIcon\n                                className=\"passwordicon\"\n                                onClick={() => {\n                                    setShowConfirmPass(!showConfirmPass);\n                                }}\n                            />\n                        )}\n                    </div>\n                    <div className=\"myuser__buttons\">\n                        <StyledButton\n                            className=\"myuser__button\"\n                            onClick={() => {\n                                onClickUpdateUser();\n                            }}\n                        >\n                            Bekreft\n                        </StyledButton>\n                        <StyledButton\n                            className=\"myuser__button\"\n                            onClick={() => {\n                                setIsFirstTimeLogin(!isFirstTimeLogin);\n                                setShowIsFirstTime(!showIsFirstTime);\n                                setOpenPopup(!openPopup);\n                            }}\n                        >\n                            Avbryt\n                        </StyledButton>\n                    </div>\n                </div>\n            ) : (\n                <div className=\"myuser\">\n                    <div>\n                        <Table>\n                            <TableRow>\n                                <TableCell align=\"left\">Navn</TableCell>\n                                <TableCell align=\"center\">\n                                    {currentUser.firstName}{' '}\n                                    {currentUser.surname}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                    <Button\n                                        onClick={() => {\n                                            setPopupTitle('Endre navn');\n                                            setShowChangeName(!showChangeName);\n                                        }}\n                                    >\n                                        <EditIcon />\n                                    </Button>\n                                    <Popup\n                                        title={popupTitle}\n                                        openPopup={showChangeName}\n                                        setOpenPopup={setShowChangeName}\n                                    >\n                                        <div className=\"myuser__textfields\">\n                                            <TextField\n                                                className=\"myuser__textfield\"\n                                                label=\"Endre fornavn\"\n                                                variant=\"outlined\"\n                                                onChange={onChangeFirstName}\n                                                value={firstName}\n                                            />\n                                            <TextField\n                                                className=\"myuser__textfield\"\n                                                label=\"Endre etternavn\"\n                                                variant=\"outlined\"\n                                                onChange={onChangeSurname}\n                                                value={surname}\n                                            />\n                                            <TextField\n                                                className=\"myuser__textfield\"\n                                                type={\n                                                    showPassword\n                                                        ? 'text'\n                                                        : 'password'\n                                                }\n                                                label=\"Passord*\"\n                                                variant=\"outlined\"\n                                                onChange={onChangePassword}\n                                            />\n                                        </div>\n                                        <div className=\"myuser__buttons\">\n                                            <StyledButton\n                                                className=\"myuser__button\"\n                                                onClick={onClickChangeName}\n                                            >\n                                                Bekreft\n                                            </StyledButton>\n                                            <StyledButton\n                                                className=\"myuser__button\"\n                                                onClick={() =>\n                                                    setShowChangeName(\n                                                        !showChangeName\n                                                    )\n                                                }\n                                            >\n                                                Avbryt\n                                            </StyledButton>\n                                        </div>\n                                    </Popup>\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell align=\"left\">Email</TableCell>\n                                <TableCell align=\"center\">\n                                    {currentUser.email}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                    <Button\n                                        onClick={() => {\n                                            setPopupTitle('Endre mail');\n                                            setShowChangeEmail(\n                                                !showChangeEmail\n                                            );\n                                        }}\n                                    >\n                                        <EditIcon />\n                                    </Button>\n                                    <Popup\n                                        openPopup={showChangeEmail}\n                                        setOpenPopup={setShowChangeEmail}\n                                        title={popupTitle}\n                                    >\n                                        <TextField\n                                            className=\"myuser__textfield\"\n                                            label=\"Gammel mail\"\n                                            variant=\"outlined\"\n                                            onChange={onChangeOldMail}\n                                            value={oldMail}\n                                        />\n                                        <TextField\n                                            className=\"myuser__textfield\"\n                                            label=\"Ny mail\"\n                                            variant=\"outlined\"\n                                            onChange={onChangeNewMail}\n                                            value={newMail}\n                                        />\n                                        <TextField\n                                            className=\"myuser__textfield\"\n                                            type={\n                                                showPassword\n                                                    ? 'text'\n                                                    : 'password'\n                                            }\n                                            label=\"Passord*\"\n                                            variant=\"outlined\"\n                                            onChange={onChangePassword}\n                                        />\n                                        <div className=\"myuser__buttons\">\n                                            <StyledButton\n                                                className=\"myuser__button\"\n                                                onClick={onClickChangeMail}\n                                            >\n                                                Bekreft\n                                            </StyledButton>\n                                            <StyledButton\n                                                className=\"myuser__button\"\n                                                onClick={() => {\n                                                    setShowChangeEmail(\n                                                        !showChangeEmail\n                                                    );\n                                                }}\n                                            >\n                                                Avbryt\n                                            </StyledButton>\n                                        </div>\n                                    </Popup>\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell align=\"left\">Telefon</TableCell>\n                                <TableCell align=\"center\">\n                                    {currentUser.phoneNumber}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                    <Button\n                                        onClick={() => {\n                                            setPopupTitle(\n                                                'Endre telefonnummer'\n                                            );\n                                            setShowChangePhone(\n                                                !showChangePhone\n                                            );\n                                        }}\n                                    >\n                                        <EditIcon />\n                                    </Button>\n                                    <Popup\n                                        title={popupTitle}\n                                        openPopup={showChangePhone}\n                                        setOpenPopup={setShowChangePhone}\n                                    >\n                                        <TextField\n                                            className=\"myuser__textfield\"\n                                            label=\"Endre telefon\"\n                                            variant=\"outlined\"\n                                            onChange={onChangePhone}\n                                            value={phone}\n                                        />\n                                        <TextField\n                                            className=\"myuser__textfield\"\n                                            type={\n                                                showPassword\n                                                    ? 'text'\n                                                    : 'password'\n                                            }\n                                            label=\"Passord*\"\n                                            variant=\"outlined\"\n                                            onChange={onChangePassword}\n                                        />\n                                        <div className=\"myuser__buttons\">\n                                            <StyledButton\n                                                className=\"myuser__button\"\n                                                onClick={onClickChangePhone}\n                                            >\n                                                Bekreft\n                                            </StyledButton>\n                                            <StyledButton\n                                                className=\"myuser__button\"\n                                                onClick={() => {\n                                                    setShowChangePhone(\n                                                        !showChangePhone\n                                                    );\n                                                }}\n                                            >\n                                                Avbryt\n                                            </StyledButton>\n                                        </div>\n                                    </Popup>\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell align=\"left\">Bilde</TableCell>\n                                <TableCell align=\"center\">\n                                    <img\n                                        style={{ height: '35px' }}\n                                        src={currentUser.image}\n                                        alt=\"Fant ikke bildet\"\n                                    />\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                    <Button\n                                        onClick={() => {\n                                            setPopupTitle('Endre bilde');\n                                            setShowChangeImage(\n                                                !showChangeImage\n                                            );\n                                        }}\n                                    >\n                                        <EditIcon />\n                                    </Button>\n                                    <Popup\n                                        title={popupTitle}\n                                        openPopup={showChangeImage}\n                                        setOpenPopup={setShowChangeImage}\n                                    >\n                                        <TextField\n                                            className=\"myuser__textfield\"\n                                            label=\"Endre bilde\"\n                                            variant=\"outlined\"\n                                            onChange={onChangeImage}\n                                            type=\"file\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                        />\n                                        <TextField\n                                            className=\"myuser__textfield\"\n                                            type={\n                                                showPassword\n                                                    ? 'text'\n                                                    : 'password'\n                                            }\n                                            label=\"Passord*\"\n                                            variant=\"outlined\"\n                                            onChange={onChangePassword}\n                                        />\n                                        <div className=\"myuser__buttons\">\n                                            <StyledButton\n                                                className=\"myuser__button\"\n                                                onClick={onClickChangeImage}\n                                            >\n                                                Bekreft\n                                            </StyledButton>\n                                            <StyledButton\n                                                className=\"myuser__button\"\n                                                onClick={() => {\n                                                    setShowChangeImage(\n                                                        !showChangeImage\n                                                    );\n                                                }}\n                                            >\n                                                Avbryt\n                                            </StyledButton>\n                                        </div>\n                                    </Popup>\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell align=\"left\">\n                                    Aktivitetsnivå\n                                </TableCell>\n                                <TableCell align=\"center\">\n                                    {showActivityLevel(currentUser.activityLevel)}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                    <Button\n                                        onClick={() => {\n                                            setPopupTitle(\n                                                'Endre aktivitetsnivå'\n                                            );\n                                            setShowChangeActLvl(\n                                                !showChangeActLvl\n                                            );\n                                        }}\n                                    >\n                                        <EditIcon />\n                                    </Button>\n                                    <Popup\n                                        title={popupTitle}\n                                        openPopup={showChangeActLvl}\n                                        setOpenPopup={setShowChangeActLvl}\n                                    >\n                                        <FormLabel component=\"label\">\n                                            Aktivitetsnivå\n                                        </FormLabel>\n                                        <RadioGroup>\n                                            <FormControlLabel\n                                                control={<Radio />}\n                                                label=\"Lavt\"\n                                                onClick={() =>\n                                                    setActivityLevel('LOW')\n                                                }\n                                                value=\"low\"\n                                            />\n                                            <FormControlLabel\n                                                control={<Radio />}\n                                                label=\"Middels\"\n                                                onClick={() =>\n                                                    setActivityLevel('MEDIUM')\n                                                }\n                                                value=\"medium\"\n                                            />\n                                            <FormControlLabel\n                                                control={<Radio />}\n                                                label=\"Høyt\"\n                                                onClick={() =>\n                                                    setActivityLevel('HIGH')\n                                                }\n                                                value=\"high\"\n                                            />\n                                        </RadioGroup>\n\n                                        <TextField\n                                            className=\"myuser__textfield\"\n                                            type={\n                                                showPassword\n                                                    ? 'text'\n                                                    : 'password'\n                                            }\n                                            label=\"Passord*\"\n                                            variant=\"outlined\"\n                                            onChange={onChangePassword}\n                                        />\n                                        <div className=\"myuser__buttons\">\n                                            <StyledButton\n                                                className=\"myuser__button\"\n                                                onClick={onClickChangeActLvl}\n                                            >\n                                                Bekreft\n                                            </StyledButton>\n                                            <StyledButton\n                                                className=\"myuser__button\"\n                                                onClick={() => {\n                                                    setShowChangeActLvl(\n                                                        !showChangeActLvl\n                                                    );\n                                                }}\n                                            >\n                                                Avbryt\n                                            </StyledButton>\n                                        </div>\n                                    </Popup>\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell align=\"left\">Passord</TableCell>\n                                <TableCell></TableCell>\n                                <TableCell align=\"right\">\n                                    <Button\n                                        onClick={() => {\n                                            setPopupTitle('Endre passord');\n                                            setShowChangePass(!showChangePass);\n                                        }}\n                                    >\n                                        <EditIcon />\n                                    </Button>\n                                    <Popup\n                                        openPopup={showChangePass}\n                                        setOpenPopup={setShowChangePass}\n                                        title={popupTitle}\n                                    >\n                                        <div>\n                                            <TextField\n                                                className=\"myuser__textfield\"\n                                                type={\n                                                    showEditPass\n                                                        ? 'text'\n                                                        : 'password'\n                                                }\n                                                label=\"Endre passord\"\n                                                variant=\"outlined\"\n                                                onChange={onChangePassword1}\n                                                value={editPass}\n                                            />\n                                            {showEditPass ? (\n                                                <VisibilityIcon\n                                                    className=\"passwordicon\"\n                                                    onClick={() => {\n                                                        setShowEditPass(\n                                                            !showEditPass\n                                                        );\n                                                    }}\n                                                />\n                                            ) : (\n                                                <VisibilityOffIcon\n                                                    className=\"passwordicon\"\n                                                    onClick={() => {\n                                                        setShowEditPass(\n                                                            !showEditPass\n                                                        );\n                                                    }}\n                                                />\n                                            )}\n                                            <TextField\n                                                className=\"myuser__textfield\"\n                                                type={\n                                                    showConfirmPass\n                                                        ? 'text'\n                                                        : 'password'\n                                                }\n                                                label=\"Bekreft passord\"\n                                                variant=\"outlined\"\n                                                onChange={onChangePassword2}\n                                                value={confirmPass}\n                                            />\n                                            {showConfirmPass ? (\n                                                <VisibilityIcon\n                                                    className=\"passwordicon\"\n                                                    onClick={() => {\n                                                        setShowConfirmPass(\n                                                            !showConfirmPass\n                                                        );\n                                                    }}\n                                                />\n                                            ) : (\n                                                <VisibilityOffIcon\n                                                    className=\"passwordicon\"\n                                                    onClick={() => {\n                                                        setShowConfirmPass(\n                                                            !showConfirmPass\n                                                        );\n                                                    }}\n                                                />\n                                            )}\n                                            <TextField\n                                                className=\"myuser__textfield\"\n                                                type={\n                                                    showPassword\n                                                        ? 'text'\n                                                        : 'password'\n                                                }\n                                                label=\"Passord*\"\n                                                variant=\"outlined\"\n                                                onChange={onChangePassword}\n                                            />\n                                            {showPassword ? (\n                                                <VisibilityIcon\n                                                    className=\"passwordicon\"\n                                                    onClick={() => {\n                                                        setShowPassword(\n                                                            !showPassword\n                                                        );\n                                                    }}\n                                                />\n                                            ) : (\n                                                <VisibilityOffIcon\n                                                    className=\"passwordicon\"\n                                                    onClick={() => {\n                                                        setShowPassword(\n                                                            !showPassword\n                                                        );\n                                                    }}\n                                                />\n                                            )}\n                                            <div className=\"myuser__buttons\">\n                                                <StyledButton\n                                                    className=\"myuser__button\"\n                                                    onClick={onClickChangePass}\n                                                >\n                                                    Bekreft\n                                                </StyledButton>\n                                                <StyledButton\n                                                    className=\"myuser__button\"\n                                                    onClick={() => {\n                                                        setShowChangePass(\n                                                            !showChangePass\n                                                        );\n                                                    }}\n                                                >\n                                                    Avbryt\n                                                </StyledButton>\n                                            </div>\n                                            <div>\n                                                {noMatchPass && (\n                                                    <h5>\n                                                        Passordene er ulike!\n                                                    </h5>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </Popup>\n                                </TableCell>\n                            </TableRow>\n                        </Table>\n                    </div>\n                    <div className=\"myuser__textfields\"></div>\n                    <div className=\"myuser__buttons\">\n                        <StyledButton\n                            className=\"myuser__deleteButton\"\n                            onClick={() =>\n                                setShowConfirmDelete(!showConfirmDelete)\n                            }\n                        >\n                            Slett bruker\n                        </StyledButton>\n                        <Popup\n                            title=\"Er du sikker på at du vil slette brukeren?\"\n                            openPopup={showConfirmDelete}\n                            setOpenPopup={setShowConfirmDelete}\n                        >\n                            <div className=\"myuser__buttons\">\n                                <StyledButton\n                                    className=\"myuser__button\"\n                                    onClick={onClickDeleteUser}\n                                >\n                                    Bekreft\n                                </StyledButton>\n                                <StyledButton\n                                    className=\"myuser__button\"\n                                    onClick={() =>\n                                        setShowConfirmDelete(!showConfirmDelete)\n                                    }\n                                >\n                                    Avbryt\n                                </StyledButton>\n                            </div>\n                        </Popup>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default MyUser;\n"]},"metadata":{},"sourceType":"module"}