{"ast":null,"code":"import _regeneratorRuntime from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import{Button,Drawer,Grid,TextField}from'@material-ui/core';import React,{useEffect,useState,useRef}from'react';import styled from'styled-components';import SendRoundedIcon from'@material-ui/icons/SendRounded';import StyledMessage from'./StyledMessage';import axios from'../../Axios';import SockJS from'sockjs-client';import Stomp from'stompjs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MessageBox=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    height: 70vh;\\n    max-width: 80vh;\\n    overflow: hidden;\\n    overflow-y: scroll;\\n    margin-top: 10vh;\\n\"])));var SendMessage=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: row;\\n    width: 95%;\\n\"])));var Chat=function Chat(_ref){var open=_ref.open,close=_ref.close,activityId=_ref.activityId;var _useState=useState(),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),chatHistory=_useState4[0],setChatHistory=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),chat=_useState6[0],setChat=_useState6[1];var socket=useRef();useEffect(function(){setChat([]);if(open){axios.get(\"/chat/\".concat(activityId)).then(function(response){var sortedList=response.data['messages'];sortedList=_toConsumableArray(sortedList).sort(function(mes1,mes2){return mes1.timestamp-mes2.timestamp;});setChatHistory(sortedList);});socketConn();}},[open]);var socketConn=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var so;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return new SockJS('http://13.51.58.86:8080/ws');case 2:so=_context.sent;_context.next=5;return Stomp.over(so);case 5:socket.current=_context.sent;socket.current.connect({},function(){socket.current.subscribe(\"/client/chat/\".concat(activityId),function(event){setChat([].concat(_toConsumableArray(chat),[JSON.parse(event.body)]));});});case 7:case\"end\":return _context.stop();}}},_callee);}));return function socketConn(){return _ref2.apply(this,arguments);};}();var subscribeAndOpen=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(socket.current){if(socket.current.connected){socket.current.subscribe(\"/client/chat/\".concat(activityId),function(event){console.log(JSON.parse(event.body));setChat([].concat(_toConsumableArray(chat),[JSON.parse(event.body)]));});}}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function subscribeAndOpen(){return _ref3.apply(this,arguments);};}();useEffect(function(){subscribeAndOpen();console.log(chat.length);},[socket,chat]);var sendMessage=function sendMessage(){if(socket.current&&message!==''){socket.current.send(\"/server/chat/\".concat(activityId),{},JSON.stringify({userId:localStorage.getItem('userID'),message:message}));setMessage('');}};useEffect(function(){scrollToBottom();},[chat]);var onKeyDown=function onKeyDown(e){if(e.code==='Enter'){sendMessage();}};var mapHistoryAndChat=function mapHistoryAndChat(){var history=chatHistory.map(function(msg,index){return/*#__PURE__*/_jsx(StyledMessage,{name:msg.user.firstName,time:msg.timestamp,userId:msg.user.userId,message:msg.message,image:msg.user.image},index);});var newMessages=chat.map(function(msg,index){return/*#__PURE__*/_jsx(StyledMessage,{name:msg.user.firstName,time:msg.timestamp,userId:msg.user.userId,message:msg.message,image:msg.user.image},index);});return[].concat(_toConsumableArray(history),_toConsumableArray(newMessages));};var scrollToBottom=function scrollToBottom(){var messagebox=document.getElementById('chat');if(messagebox){messagebox.scrollTop=messagebox.scrollHeight;}};var onChangeMessage=function onChangeMessage(event){var msg=event.target.value;setMessage(msg);};return/*#__PURE__*/_jsx(Drawer,{variant:\"persistent\",anchor:\"right\",open:open,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,children:[/*#__PURE__*/_jsx(\"h2\",{style:{position:'absolute',top:'5px',left:'20px'},children:\"CHAT\"}),/*#__PURE__*/_jsx(Button,{style:{position:'absolute',top:'20px',right:'20px'},onClick:function onClick(){close();if(socket.current){socket.current.disconnect();}},children:\"Lukk\"})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:true,container:true,children:/*#__PURE__*/_jsxs(Grid,{item:true,xs:true,container:true,direction:\"column\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(MessageBox,{id:\"chat\",children:mapHistoryAndChat()})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(SendMessage,{children:[/*#__PURE__*/_jsx(TextField,{onKeyDown:onKeyDown,onChange:onChangeMessage,value:message,style:{width:'90%',marginLeft:'1rem',height:'5rem'},label:\"Send Melding\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",style:{width:'10%',height:'10%',marginLeft:'0.5rem'},onClick:sendMessage,children:/*#__PURE__*/_jsx(SendRoundedIcon,{})})]})})]})})]})});};export default Chat;","map":{"version":3,"sources":["/Users/olelokken/DEV/gidd/client/src/components/ChatComponents/Chat.tsx"],"names":["Button","Drawer","Grid","TextField","React","useEffect","useState","useRef","styled","SendRoundedIcon","StyledMessage","axios","SockJS","Stomp","MessageBox","div","SendMessage","Chat","open","close","activityId","message","setMessage","chatHistory","setChatHistory","chat","setChat","socket","get","then","response","sortedList","data","sort","mes1","mes2","timestamp","socketConn","so","over","current","connect","subscribe","event","JSON","parse","body","subscribeAndOpen","connected","console","log","length","sendMessage","send","stringify","userId","localStorage","getItem","scrollToBottom","onKeyDown","e","code","mapHistoryAndChat","history","map","msg","index","user","firstName","image","newMessages","messagebox","document","getElementById","scrollTop","scrollHeight","onChangeMessage","target","value","position","top","left","right","disconnect","width","marginLeft","height"],"mappings":"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","sourcesContent":["import {\n    Button,\n    Drawer,\n    Grid,\n    TextField,\n} from '@material-ui/core';\nimport React, {\n    ChangeEvent,\n    useEffect,\n    useState,\n    useRef,\n} from 'react';\nimport styled from 'styled-components';\nimport SendRoundedIcon from '@material-ui/icons/SendRounded';\nimport StyledMessage from './StyledMessage';\nimport axios from '../../Axios';\nimport SockJS from 'sockjs-client';\nimport Stomp from 'stompjs';\nimport MessageResponse from '../../interfaces/MessageResponse';\n\n\nconst MessageBox = styled.div`\n    height: 70vh;\n    max-width: 80vh;\n    overflow: hidden;\n    overflow-y: scroll;\n    margin-top: 10vh;\n`;\n\nconst SendMessage = styled.div`\n    display: flex;\n    flex-direction: row;\n    width: 95%;\n`;\n\ninterface Props {\n    open: boolean;\n    close: () => void;\n    activityId: number;\n}\n\nconst Chat = ({ open, close, activityId }: Props) => {\n    const [message, setMessage] = useState<string>();\n    const [chatHistory, setChatHistory] = useState<MessageResponse[]>([]);\n    const [chat, setChat] = useState<MessageResponse[]>([]);\n    const socket = useRef<any>();\n\n    useEffect(() => {\n        setChat([]);\n        if (open) {\n            axios.get(`/chat/${activityId}`).then((response) => {\n                let sortedList: MessageResponse[] = response.data['messages'];\n                sortedList = [...sortedList].sort(\n                    (mes1, mes2) => mes1.timestamp - mes2.timestamp\n                );\n                setChatHistory(sortedList);\n            });\n            socketConn();\n        }\n    }, [open]);\n\n    const socketConn = async () => {\n        const so = await new SockJS('http://13.51.58.86:8080/ws');\n        socket.current = await Stomp.over(so);\n        socket.current.connect({}, () => {\n            socket.current.subscribe(\n                `/client/chat/${activityId}`,\n                (event: any) => {\n                    setChat([...chat, JSON.parse(event.body)]);\n                }\n            );\n        });\n    };\n\n    const subscribeAndOpen = async () => {\n        if (socket.current) {\n            if (socket.current.connected) {\n                socket.current.subscribe(\n                    `/client/chat/${activityId}`,\n                    (event: any) => {\n                        console.log(JSON.parse(event.body));\n                        setChat([...chat, JSON.parse(event.body)]);\n                    }\n                );\n            }\n        }\n    };\n\n    useEffect(() => {\n        subscribeAndOpen();\n        console.log(chat.length);\n    }, [socket, chat]);\n\n    const sendMessage = () => {\n        if (socket.current && message !== '') {\n            socket.current.send(\n                `/server/chat/${activityId}`,\n                {},\n                JSON.stringify({\n                    userId: localStorage.getItem('userID'),\n                    message: message,\n                })\n            );\n            setMessage('');\n        }\n    };\n\n    useEffect(() => {\n        scrollToBottom();\n    }, [chat]);\n\n    const onKeyDown = (e: any) => {\n        if (e.code === 'Enter') {\n            sendMessage();\n        }\n    };\n\n    const mapHistoryAndChat = (): React.ReactElement[] => {\n        const history: React.ReactElement[] = chatHistory.map((msg, index) => {\n            return (\n                <StyledMessage\n                    key={index}\n                    name={msg.user.firstName}\n                    time={msg.timestamp}\n                    userId={msg.user.userId}\n                    message={msg.message}\n                    image={msg.user.image}\n                ></StyledMessage>\n            );\n        });\n        const newMessages: React.ReactElement[] = chat.map((msg, index) => {\n            return (\n                <StyledMessage\n                    key={index}\n                    name={msg.user.firstName}\n                    time={msg.timestamp}\n                    userId={msg.user.userId}\n                    message={msg.message}\n                    image={msg.user.image}\n                ></StyledMessage>\n            );\n        });\n        return [...history, ...newMessages];\n    };\n\n    const scrollToBottom = () => {\n        const messagebox = document.getElementById('chat');\n        if (messagebox) {\n            messagebox.scrollTop = messagebox.scrollHeight;\n        }\n    };\n\n    const onChangeMessage = (event: ChangeEvent<HTMLInputElement>) => {\n        const msg: string = (event.target as HTMLInputElement).value;\n        setMessage(msg);\n    };\n    return (\n        <Drawer variant=\"persistent\" anchor=\"right\" open={open}>\n            <Grid container spacing={2}>\n                <Grid item>\n                    <h2\n                        style={{\n                            position: 'absolute',\n                            top: '5px',\n                            left: '20px',\n                        }}\n                    >\n                        CHAT\n                    </h2>\n                    <Button\n                        style={{\n                            position: 'absolute',\n                            top: '20px',\n                            right: '20px',\n                        }}\n                        onClick={() => {\n                            close();\n                            if (socket.current) {\n                                socket.current.disconnect();\n                            }\n                        }}\n                    >\n                        Lukk\n                    </Button>\n                </Grid>\n                <Grid item xs={12} sm container>\n                    <Grid item xs container direction=\"column\" spacing={2}>\n                        <Grid item xs>\n                            <MessageBox id=\"chat\">\n                                {mapHistoryAndChat()}\n                            </MessageBox>\n                        </Grid>\n                        <Grid item>\n                            <SendMessage>\n                                <TextField\n                                    onKeyDown={onKeyDown}\n                                    onChange={onChangeMessage}\n                                    value={message}\n                                    style={{\n                                        width: '90%',\n                                        marginLeft: '1rem',\n                                        height: '5rem',\n                                    }}\n                                    label=\"Send Melding\"\n                                ></TextField>\n                                <Button\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    style={{\n                                        width: '10%',\n                                        height: '10%',\n                                        marginLeft: '0.5rem',\n                                    }}\n                                    onClick={sendMessage}\n                                >\n                                    <SendRoundedIcon />\n                                </Button>\n                            </SendMessage>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </Drawer>\n    );\n};\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}