{"ast":null,"code":"import _slicedToArray from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{makeStyles,createStyles,Grid,Typography,CardContent,Tooltip,Chip,CardMedia,Button,ListItem,ListItemText,List}from'@material-ui/core';import{Edit,Delete}from'@material-ui/icons';import ChatIcon from'@material-ui/icons/Chat';import React,{useContext,useEffect,useState}from'react';import{Marker}from'react-google-maps';import hiking from'../../assets/hiking.jpg';import MapComponent from'../MapComponents/MapComponent';import{UserContext}from'../../UserContext';import Popup from'../Popup';import WeatherComponent from'../WeatherComponents/WeatherComponent';import ActivityForm from'./ActivityForm';import Chat from'../ChatComponents/Chat';import PlayerRatingForm from'../Forms/PlayerRatingForm';import UserAvatar from'../UserAvatar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(){return createStyles({titlearea:{flex:1,backgroundColor:'#f44336',color:'white'},publisher:{flex:1,backgroundColor:'#f3dbdb'},joinButton:{float:'right',margin:'15px',backgroundColor:'white','&:hover':{background:'#ffa6a0'}},otherButton:{float:'right',margin:'15px',backgroundColor:'white','&:hover':{background:'#ffa6a0'}},supplyList:{backgroundColor:'white',marginRight:'10px',borderRadius:'10px'}});});var ActivityInformation=function ActivityInformation(_ref){var activity=_ref.activity,deleteActivity=_ref.deleteActivity,setOpenPopup=_ref.setOpenPopup,openPopup=_ref.openPopup,register=_ref.register,unRegister=_ref.unRegister;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openChat=_useState2[0],setOpenChat=_useState2[1];var _useState3=useState(activity),_useState4=_slicedToArray(_useState3,1),currentAct=_useState4[0];var _useState5=useState(activity.registeredParticipants.slice(0,activity.capacity)),_useState6=_slicedToArray(_useState5,1),currentRegistered=_useState6[0];var classes=useStyles();var date=new Date(activity.time).toLocaleDateString()+' '+new Date(activity.time-7200000).toLocaleTimeString();var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),registration=_useState8[0],setRegistration=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isOwner=_useState10[0],setIsOwner=_useState10[1];var _useContext=useContext(UserContext),user=_useContext.user;var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),openEditPopup=_useState12[0],setOpenEditPopup=_useState12[1];var _useState13=useState(activity.registeredParticipants.length),_useState14=_slicedToArray(_useState13,2),numRegistered=_useState14[0],setNumRegistered=_useState14[1];//const [registeredPart, setRegisteredPart] = useState<\nvar _useState15=useState({firstName:'',surname:'',userId:'',email:'',image:'',password:'',phoneNumber:'',activityLevel:'',points:''}),_useState16=_slicedToArray(_useState15,2),currentParticipant=_useState16[0],setCurrentParticipant=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),openRatingPopup=_useState18[0],setRatingPopup=_useState18[1];var onRegisterClick=function onRegisterClick(){register(activity.activityId).then(function(){setRegistration(1);setNumRegistered(numRegistered+1);});};var onWaitingListClick=function onWaitingListClick(){register(activity.activityId).then(function(){setRegistration(3);setNumRegistered(numRegistered+1);});};var onUnRegisterClick=function onUnRegisterClick(){unRegister(activity.activityId).then(function(){setRegistration(0);setNumRegistered(numRegistered-1);});};var removeWaitingList=function removeWaitingList(){unRegister(activity.activityId).then(function(){setRegistration(2);setNumRegistered(numRegistered-1);});};var editActivity=function editActivity(){setOpenEditPopup(true);};var onDeleteClick=function onDeleteClick(){if(deleteActivity&&openPopup&&setOpenPopup){deleteActivity(activity.activityId);setOpenPopup(!openPopup);}};var showActivityLevel=function showActivityLevel(actLevel){if(actLevel==='HIGH'){return'Høy';}else if(actLevel==='MEDIUM'){return'Middels';}else if(actLevel==='LOW'){return'Lav';}};useEffect(function(){var value=-1;if(activity.user['userId']==user){setIsOwner(true);}var registered=currentAct.registeredParticipants.map(function(par){return par['userId'];}).filter(function(num){return num==user;}).length;if(registered>=1){value=1;setRegistration(1);if(currentRegistered.map(function(par){return par['userId'];}).filter(function(num){return num==user;}).length<=0){setRegistration(3);}}else if(currentAct.registeredParticipants.length>=currentAct.capacity&&value!=1){setRegistration(2);}else{setRegistration(0);}},[]);var registerBtn=function registerBtn(){if(registration==1){return/*#__PURE__*/_jsx(Button,{onClick:onUnRegisterClick,className:classes.joinButton,children:\"Meld deg av\"});}else if(registration==2){return/*#__PURE__*/_jsxs(Button,{onClick:onWaitingListClick,className:classes.joinButton,children:[\"Fullbooket! \",/*#__PURE__*/_jsx(\"br\",{}),\"Meld deg p\\xE5 venteliste\"]});}else if(registration==0){return/*#__PURE__*/_jsx(Button,{onClick:onRegisterClick,className:classes.joinButton,children:\"Meld deg p\\xE5\"});}else if(registration==3){var myIndex=0;currentAct.registeredParticipants.map(function(par,index){if(par['userId'].toString()===user){myIndex=index+1;}});return/*#__PURE__*/_jsxs(Button,{onClick:removeWaitingList,className:classes.joinButton,children:['Du er på '+(myIndex-activity.capacity)+'. plass på vente liste',/*#__PURE__*/_jsx(\"br\",{}),\"Meld deg av\"]});}};var picture=function picture(){if(activity.image.length>40){return activity.image;}return hiking;};var mapEquipments=activity.equipments.map(function(eq,index){return/*#__PURE__*/_jsx(Chip,{variant:\"outlined\",size:\"small\",label:eq.description,style:{backgroundColor:'#f44336',borderBlockEndWidth:'0px',color:'white',padding:'10px',margin:'10px'}},index);});var mapTags=activity.tags.map(function(tag,index){return/*#__PURE__*/_jsx(Chip,{variant:\"outlined\",size:\"small\",label:tag,style:{backgroundColor:'#f44336',borderBlockEndWidth:'0px',color:'white',padding:'10px',margin:'10px'}},index);});var onParticipantClicked=function onParticipantClicked(par){setCurrentParticipant(par);setRatingPopup(!openRatingPopup);};var mapParticipants=currentRegistered.map(function(par,index){return/*#__PURE__*/_jsxs(ListItem,{button:true,onClick:function onClick(){if(user!==par['userId'].toString())onParticipantClicked(par);},children:[/*#__PURE__*/_jsx(UserAvatar,{user:par,type:\"small\",marginRight:\"0.5rem\"}),/*#__PURE__*/_jsx(ListItemText,{primary:par['firstName']+' '+par['surname']})]},index);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(CardMedia,{component:\"img\",alt:'Image related to the activity'+activity.title,height:\"200\",image:picture()// her skal bildet egentlig hentast for aktiviteta\n})})}),/*#__PURE__*/_jsx(\"div\",{className:classes.titlearea,children:/*#__PURE__*/_jsxs(Grid,{container:true,wrap:\"nowrap\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:7,style:{padding:'15px'},children:/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"h3\",children:activity.title})}),isOwner&&/*#__PURE__*/_jsx(Grid,{item:true,xs:1,children:/*#__PURE__*/_jsx(Tooltip,{title:\"Rediger denne aktiviteten\",children:/*#__PURE__*/_jsx(Button,{onClick:editActivity,className:classes.otherButton,children:/*#__PURE__*/_jsx(Edit,{})})})}),isOwner&&/*#__PURE__*/_jsx(Grid,{item:true,xs:1,children:/*#__PURE__*/_jsx(Tooltip,{title:\"Slett denne aktiviteten\",children:/*#__PURE__*/_jsx(Button,{onClick:onDeleteClick,className:classes.otherButton,children:/*#__PURE__*/_jsx(Delete,{})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:3,children:!isOwner&&registerBtn()}),registration==1&&/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setOpenChat(true);},className:classes.otherButton,children:/*#__PURE__*/_jsx(ChatIcon,{})})]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.publisher,children:/*#__PURE__*/_jsx(Grid,{container:true,wrap:\"nowrap\",spacing:2,children:/*#__PURE__*/_jsx(Grid,{item:true,style:{paddingLeft:'15px'},children:/*#__PURE__*/_jsxs(Typography,{children:[\"Aktivitet publisert av:\",' ',activity.user['firstName']+' '+activity.user['surname']]})})})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Grid,{container:true,wrap:\"nowrap\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:8,children:/*#__PURE__*/_jsxs(Grid,{item:true,children:[/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Kapasitet:\"}),\" \",numRegistered,\" /\",' ',activity.capacity]}),/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Vanskligheitsgrad:\"}),' ',showActivityLevel(activity.activityLevel)]}),/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Tidspunkt: \"}),date]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:1}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:3,children:[/*#__PURE__*/_jsx(Typography,{children:registration==1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"P\\xE5meldte personer:\"}),' ',/*#__PURE__*/_jsx(List,{style:{width:'100%',float:'right',maxHeight:'160px',overflow:'auto'},children:mapParticipants})]})}),/*#__PURE__*/_jsx(PlayerRatingForm,{openPopup:openRatingPopup,setOpenPopup:setRatingPopup,user:currentParticipant})]})]}),/*#__PURE__*/_jsxs(Typography,{style:{color:'black'},children:[/*#__PURE__*/_jsx(\"b\",{children:\"Beskrivelse: \"}),/*#__PURE__*/_jsx(\"br\",{}),activity.description]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.titlearea,children:/*#__PURE__*/_jsx(Grid,{item:true,style:{padding:'15px'},children:/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h6\",component:\"h3\",children:\"Lokasjon:\"})})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(MapComponent,{defaultCenter:{lat:activity.latitude,lng:activity.longitude},width:\"100%\",height:\"30rem\",children:/*#__PURE__*/_jsx(Marker,{position:{lat:activity.latitude,lng:activity.longitude}})})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:classes.publisher,children:/*#__PURE__*/_jsxs(Grid,{container:true,wrap:\"nowrap\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,style:{padding:'15px'},children:/*#__PURE__*/_jsx(Typography,{children:\"N\\xF8dvendig utstyr:\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:8,children:/*#__PURE__*/_jsx(\"div\",{className:classes.supplyList,children:mapEquipments})})]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.publisher,children:/*#__PURE__*/_jsxs(Grid,{container:true,wrap:\"nowrap\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,style:{padding:'15px'},children:/*#__PURE__*/_jsx(Typography,{children:\"Tags :\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:8,children:/*#__PURE__*/_jsx(\"div\",{className:classes.supplyList,children:mapTags})})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.titlearea,children:/*#__PURE__*/_jsx(Grid,{item:true,style:{padding:'15px'},children:/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h6\",component:\"h3\",children:\"V\\xE6rmelding:\"})})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(WeatherComponent,{lat:activity.latitude,lon:activity.longitude,time:activity.time})})]}),/*#__PURE__*/_jsx(Popup,{openPopup:openEditPopup,setOpenPopup:setOpenEditPopup,maxWidth:\"md\",children:/*#__PURE__*/_jsx(ActivityForm,{activityResponse:activity,openPopup:openEditPopup,setOpenPopup:setOpenEditPopup})}),/*#__PURE__*/_jsx(Chat,{activityId:activity.activityId,open:openChat,close:function close(){return setOpenChat(false);}})]});};export default ActivityInformation;","map":{"version":3,"sources":["/Users/olelokken/DEV/gidd/client/src/components/ActivityComponents/ActivityInformation.tsx"],"names":["makeStyles","createStyles","Grid","Typography","CardContent","Tooltip","Chip","CardMedia","Button","ListItem","ListItemText","List","Edit","Delete","ChatIcon","React","useContext","useEffect","useState","Marker","hiking","MapComponent","UserContext","Popup","WeatherComponent","ActivityForm","Chat","PlayerRatingForm","UserAvatar","useStyles","titlearea","flex","backgroundColor","color","publisher","joinButton","float","margin","background","otherButton","supplyList","marginRight","borderRadius","ActivityInformation","activity","deleteActivity","setOpenPopup","openPopup","register","unRegister","openChat","setOpenChat","currentAct","registeredParticipants","slice","capacity","currentRegistered","classes","date","Date","time","toLocaleDateString","toLocaleTimeString","registration","setRegistration","isOwner","setIsOwner","user","openEditPopup","setOpenEditPopup","length","numRegistered","setNumRegistered","firstName","surname","userId","email","image","password","phoneNumber","activityLevel","points","currentParticipant","setCurrentParticipant","openRatingPopup","setRatingPopup","onRegisterClick","activityId","then","onWaitingListClick","onUnRegisterClick","removeWaitingList","editActivity","onDeleteClick","showActivityLevel","actLevel","value","registered","map","par","filter","num","registerBtn","myIndex","index","toString","picture","mapEquipments","equipments","eq","description","borderBlockEndWidth","padding","mapTags","tags","tag","onParticipantClicked","mapParticipants","title","paddingLeft","width","maxHeight","overflow","lat","latitude","lng","longitude"],"mappings":"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","sourcesContent":["import {\n    makeStyles,\n    createStyles,\n    Grid,\n    Typography,\n    CardContent,\n    Tooltip,\n    Chip,\n    CardMedia,\n    Button,\n    ListItem,\n    ListItemText,\n    List,\n} from '@material-ui/core';\nimport { Edit, Delete } from '@material-ui/icons';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Marker } from 'react-google-maps';\nimport hiking from '../../assets/hiking.jpg';\nimport MapComponent from '../MapComponents/MapComponent';\nimport ActivityResponse from '../../interfaces/ActivityResponse';\nimport { UserContext } from '../../UserContext';\nimport Equipment from '../../interfaces/Equipment';\nimport Popup from '../Popup';\nimport WeatherComponent from '../WeatherComponents/WeatherComponent';\nimport ActivityForm from './ActivityForm';\nimport Chat from '../ChatComponents/Chat';\nimport User from '../../interfaces/User';\nimport PlayerRatingForm from '../Forms/PlayerRatingForm';\nimport UserAvatar from '../UserAvatar';\n\ninterface Props {\n    activity: ActivityResponse;\n    openPopup?: boolean;\n    setOpenPopup?: React.Dispatch<React.SetStateAction<boolean>>;\n    deleteActivity?: (id: number) => void;\n    register: (id: number) => Promise<void>;\n    unRegister: (id: number) => Promise<void>;\n}\n\nconst useStyles = makeStyles(() =>\n    createStyles({\n        titlearea: {\n            flex: 1,\n            backgroundColor: '#f44336',\n            color: 'white',\n        },\n        publisher: {\n            flex: 1,\n            backgroundColor: '#f3dbdb',\n        },\n        joinButton: {\n            float: 'right',\n            margin: '15px',\n            backgroundColor: 'white',\n            '&:hover': {\n                background: '#ffa6a0',\n            },\n        },\n        otherButton: {\n            float: 'right',\n            margin: '15px',\n            backgroundColor: 'white',\n            '&:hover': {\n                background: '#ffa6a0',\n            },\n        },\n        supplyList: {\n            backgroundColor: 'white',\n            marginRight: '10px',\n            borderRadius: '10px',\n        },\n    })\n);\n\nconst ActivityInformation = ({\n    activity,\n    deleteActivity,\n    setOpenPopup,\n    openPopup,\n    register,\n    unRegister,\n}: Props) => {\n    const [openChat, setOpenChat] = useState<boolean>(false);\n    const [currentAct] = useState<ActivityResponse>(activity);\n    const [currentRegistered] = useState<User[]>(\n        activity.registeredParticipants.slice(0, activity.capacity)\n    );\n    const classes = useStyles();\n    const date =\n        new Date(activity.time).toLocaleDateString() +\n        ' ' +\n        new Date(activity.time - 7200000).toLocaleTimeString();\n    const [registration, setRegistration] = useState<number>(1);\n    const [isOwner, setIsOwner] = useState<boolean>(false);\n    const { user } = useContext(UserContext);\n    const [openEditPopup, setOpenEditPopup] = useState<boolean>(false);\n    const [numRegistered, setNumRegistered] = useState<number>(\n        activity.registeredParticipants.length\n    );\n    //const [registeredPart, setRegisteredPart] = useState<\n    const [currentParticipant, setCurrentParticipant] = useState<User>({\n        firstName: '',\n        surname: '',\n        userId: '',\n        email: '',\n        image: '',\n        password: '',\n        phoneNumber: '',\n        activityLevel: '',\n        points: '',\n    });\n    const [openRatingPopup, setRatingPopup] = useState<boolean>(false);\n\n    const onRegisterClick = () => {\n        register(activity.activityId).then(() => {\n            setRegistration(1);\n            setNumRegistered(numRegistered + 1);\n        });\n    };\n\n    const onWaitingListClick = () => {\n        register(activity.activityId).then(() => {\n            setRegistration(3);\n            setNumRegistered(numRegistered + 1);\n        });\n    };\n\n    const onUnRegisterClick = () => {\n        unRegister(activity.activityId).then(() => {\n            setRegistration(0);\n            setNumRegistered(numRegistered - 1);\n        });\n    };\n\n    const removeWaitingList = () => {\n        unRegister(activity.activityId).then(() => {\n            setRegistration(2);\n            setNumRegistered(numRegistered - 1);\n        });\n    };\n\n    const editActivity = () => {\n        setOpenEditPopup(true);\n    };\n\n    const onDeleteClick = () => {\n        if (deleteActivity && openPopup && setOpenPopup) {\n            deleteActivity(activity.activityId);\n            setOpenPopup(!openPopup);\n        }\n    };\n\n    const showActivityLevel = (actLevel: string) => {\n        if (actLevel === 'HIGH') {\n            return 'Høy';\n        } else if (actLevel === 'MEDIUM') {\n            return 'Middels';\n        } else if (actLevel === 'LOW') {\n            return 'Lav';\n        }\n    };\n\n    useEffect(() => {\n        let value = -1;\n        if (activity.user['userId'] == user) {\n            setIsOwner(true);\n        }\n        const registered: number = currentAct.registeredParticipants\n            .map((par) => par['userId'])\n            .filter((num) => num == user).length;\n        if (registered >= 1) {\n            value = 1;\n            setRegistration(1);\n            if (\n                currentRegistered\n                    .map((par) => par['userId'])\n                    .filter((num) => num == user).length <= 0\n            ) {\n                setRegistration(3);\n            }\n        } else if (\n            currentAct.registeredParticipants.length >= currentAct.capacity &&\n            value != 1\n        ) {\n            setRegistration(2);\n        } else {\n            setRegistration(0);\n        }\n    }, []);\n\n    const registerBtn = () => {\n        if (registration == 1) {\n            return (\n                <Button\n                    onClick={onUnRegisterClick}\n                    className={classes.joinButton}\n                >\n                    Meld deg av\n                </Button>\n            );\n        } else if (registration == 2) {\n            return (\n                <Button\n                    onClick={onWaitingListClick}\n                    className={classes.joinButton}\n                >\n                    Fullbooket! <br></br>\n                    Meld deg på venteliste\n                </Button>\n            );\n        } else if (registration == 0) {\n            return (\n                <Button\n                    onClick={onRegisterClick}\n                    className={classes.joinButton}\n                >\n                    Meld deg på\n                </Button>\n            );\n        } else if (registration == 3) {\n            let myIndex = 0;\n            currentAct.registeredParticipants.map((par, index) => {\n                if (par['userId'].toString() === user) {\n                    myIndex = index + 1;\n                }\n            });\n\n            return (\n                <Button\n                    onClick={removeWaitingList}\n                    className={classes.joinButton}\n                >\n                    {'Du er på ' +\n                        (myIndex - activity.capacity) +\n                        '. plass på vente liste'}\n                    <br></br>\n                    Meld deg av\n                </Button>\n            );\n        }\n    };\n\n    const picture = (): any => {\n        if (activity.image.length > 40) {\n            return activity.image;\n        }\n        return hiking;\n    };\n\n    const mapEquipments = activity.equipments.map(\n        (eq: Equipment, index: number) => {\n            return (\n                <Chip\n                    key={index}\n                    variant=\"outlined\"\n                    size=\"small\"\n                    label={eq.description}\n                    style={{\n                        backgroundColor: '#f44336',\n                        borderBlockEndWidth: '0px',\n                        color: 'white',\n                        padding: '10px',\n                        margin: '10px',\n                    }}\n                />\n            );\n        }\n    );\n\n    const mapTags = activity.tags.map(\n        (tag: string, index: number) => {\n            return (\n                <Chip\n                    key={index}\n                    variant=\"outlined\"\n                    size=\"small\"\n                    label={tag}\n                    style={{\n                        backgroundColor: '#f44336',\n                        borderBlockEndWidth: '0px',\n                        color: 'white',\n                        padding: '10px',\n                        margin: '10px',\n                    }}\n                />\n            );\n        }\n    );\n\n    const onParticipantClicked = (par: User) => {\n        setCurrentParticipant(par);\n        setRatingPopup(!openRatingPopup);\n    };\n\n    const mapParticipants = currentRegistered.map((par: any, index: number) => {\n        return (\n            <ListItem\n                button\n                key={index}\n                onClick={() => {\n                    if (user !== par['userId'].toString())\n                        onParticipantClicked(par);\n                }}\n            >\n                <UserAvatar\n                    user={par}\n                    type=\"small\"\n                    marginRight=\"0.5rem\"\n                ></UserAvatar>\n                <ListItemText\n                    primary={par['firstName'] + ' ' + par['surname']}\n                />\n            </ListItem>\n        );\n    });\n\n    return (\n        <div>\n            <Grid>\n                <Grid item>\n                    <CardMedia\n                        component=\"img\"\n                        alt={'Image related to the activity' + activity.title}\n                        height=\"200\"\n                        image={picture()} // her skal bildet egentlig hentast for aktiviteta\n                    />\n                </Grid>\n            </Grid>\n            <div className={classes.titlearea}>\n                <Grid container wrap=\"nowrap\" spacing={2}>\n                    <Grid item xs={7} style={{ padding: '15px' }}>\n                        <Typography gutterBottom variant=\"h5\" component=\"h3\">\n                            {activity.title}\n                        </Typography>\n                    </Grid>\n                    {isOwner && (\n                        <Grid item xs={1}>\n                            <Tooltip title=\"Rediger denne aktiviteten\">\n                                <Button\n                                    onClick={editActivity}\n                                    className={classes.otherButton}\n                                >\n                                    <Edit></Edit>\n                                </Button>\n                            </Tooltip>\n                        </Grid>\n                    )}\n                    {isOwner && (\n                        <Grid item xs={1}>\n                            <Tooltip title=\"Slett denne aktiviteten\">\n                                <Button\n                                    onClick={onDeleteClick}\n                                    className={classes.otherButton}\n                                >\n                                    <Delete></Delete>\n                                </Button>\n                            </Tooltip>\n                        </Grid>\n                    )}\n                    <Grid item xs={3}>\n                        {!isOwner && registerBtn()}\n                    </Grid>\n                    {registration == 1 && (\n                        <Button\n                            onClick={() => setOpenChat(true)}\n                            className={classes.otherButton}\n                        >\n                            <ChatIcon></ChatIcon>\n                        </Button>\n                    )}\n                </Grid>\n            </div>\n            <div className={classes.publisher}>\n                <Grid container wrap=\"nowrap\" spacing={2}>\n                    <Grid item style={{ paddingLeft: '15px' }}>\n                        <Typography>\n                            Aktivitet publisert av:{' '}\n                            {activity.user['firstName'] +\n                                ' ' +\n                                activity.user['surname']}\n                        </Typography>\n                    </Grid>\n                </Grid>\n            </div>\n\n            <CardContent>\n                <Grid container wrap=\"nowrap\" spacing={2}>\n                    <Grid item xs={8}>\n                        <Grid item>\n                            <Typography>\n                                <b>Kapasitet:</b> {numRegistered} /{' '}\n                                {activity.capacity}\n                            </Typography>\n                            <Typography>\n                                <b>Vanskligheitsgrad:</b>{' '}\n                                {showActivityLevel(activity.activityLevel)}\n                            </Typography>\n                            <Typography>\n                                <b>Tidspunkt: </b>\n                                {date}\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid item xs={1}></Grid>\n                    <Grid item xs={3}>\n                        <Typography>\n                            {registration == 1 && (\n                                <>\n                                    <b>Påmeldte personer:</b>{' '}\n                                    <List\n                                        style={{\n                                            width: '100%',\n                                            float: 'right',\n                                            maxHeight: '160px',\n                                            overflow: 'auto',\n                                        }}\n                                    >\n                                        {mapParticipants}\n                                    </List>\n                                </>\n                            )}\n                        </Typography>\n                        <PlayerRatingForm\n                            openPopup={openRatingPopup}\n                            setOpenPopup={setRatingPopup}\n                            user={currentParticipant}\n                        ></PlayerRatingForm>\n                    </Grid>\n                </Grid>\n                <Typography style={{ color: 'black' }}>\n                    <b>Beskrivelse: </b>\n                    <br />\n                    {activity.description}\n                </Typography>\n            </CardContent>\n            <br></br>\n            <Grid>\n                <div className={classes.titlearea}>\n                    <Grid item style={{ padding: '15px' }}>\n                        <Typography gutterBottom variant=\"h6\" component=\"h3\">\n                            Lokasjon:\n                        </Typography>\n                    </Grid>\n                </div>\n                <Grid item>\n                    <MapComponent\n                        defaultCenter={{\n                            lat: activity.latitude,\n                            lng: activity.longitude,\n                        }}\n                        width=\"100%\"\n                        height=\"30rem\"\n                    >\n                        <Marker\n                            position={{\n                                lat: activity.latitude,\n                                lng: activity.longitude,\n                            }}\n                        ></Marker>\n                    </MapComponent>\n                </Grid>\n            </Grid>\n            <br />\n            <div className={classes.publisher}>\n                <Grid container wrap=\"nowrap\" spacing={2}>\n                    <Grid item xs={4} style={{ padding: '15px' }}>\n                        <Typography>Nødvendig utstyr:</Typography>\n                    </Grid>\n                    <Grid item xs={8}>\n                        <div className={classes.supplyList}>\n                            {mapEquipments}\n                        </div>\n                    </Grid>\n                </Grid>\n            </div>\n            <div className={classes.publisher}>\n                <Grid container wrap=\"nowrap\" spacing={2}>\n                    <Grid item xs={4} style={{ padding: '15px' }}>\n                        <Typography>Tags :</Typography>\n                    </Grid>\n                    <Grid item xs={8}>\n                        <div className={classes.supplyList}>\n                            {mapTags}\n                        </div>\n                    </Grid>\n                </Grid>\n            </div>\n            <br></br>\n            <Grid>\n                <div className={classes.titlearea}>\n                    <Grid item style={{ padding: '15px' }}>\n                        <Typography gutterBottom variant=\"h6\" component=\"h3\">\n                            Værmelding:\n                        </Typography>\n                    </Grid>\n                </div>\n                <Grid item>\n                    <WeatherComponent\n                        lat={activity.latitude}\n                        lon={activity.longitude}\n                        time={activity.time}\n                    />\n                </Grid>\n            </Grid>\n            <Popup\n                openPopup={openEditPopup}\n                setOpenPopup={setOpenEditPopup}\n                maxWidth=\"md\"\n            >\n                <ActivityForm\n                    activityResponse={activity}\n                    openPopup={openEditPopup}\n                    setOpenPopup={setOpenEditPopup}\n                ></ActivityForm>\n            </Popup>\n            <Chat\n                activityId={activity.activityId}\n                open={openChat}\n                close={() => setOpenChat(false)}\n            ></Chat>\n        </div>\n    );\n};\n\nexport default ActivityInformation;\n"]},"metadata":{},"sourceType":"module"}