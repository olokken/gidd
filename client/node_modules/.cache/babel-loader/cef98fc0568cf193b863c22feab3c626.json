{"ast":null,"code":"var _jsxFileName = \"/Users/olelokken/DEV/gidd/client/src/components/GroupsAndFriendsComponents/GroupList.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport styled from 'styled-components';\nimport { TextField, Button } from '@material-ui/core';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport AddBox from '@material-ui/icons/AddBox';\nimport axios from '../../Axios';\nimport { UserContext } from '../../UserContext';\nimport { Groups } from './Groups';\nimport config from '../../Config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledContainer = styled.div`\n    margin-left: 1rem;\n    margin-top: 1rem;\n    width: 95%;\n`;\n_c = StyledContainer;\n\nconst GroupList = ({\n  friends,\n  groups,\n  handleGroupClicked,\n  updateGroups\n}) => {\n  _s();\n\n  const [searchInput, setSearchInput] = useState('');\n  const [selectInput, setSelectInput] = useState([]);\n  const [chosenGroupName, setChosenGroupName] = useState('');\n  const [searchValue, setSearchValue] = React.useState('');\n  const {\n    user\n  } = useContext(UserContext);\n\n  const onSearchChange = event => {\n    setSearchInput(event.target.value);\n  };\n\n  const onGroupNameChange = event => {\n    setChosenGroupName(event.target.value);\n  };\n\n  const onAddGroupClick = () => {\n    console.log(selectInput);\n    console.log(chosenGroupName); //console.log(getUserIds(selectInput));\n\n    console.log('searchInput: ' + searchValue);\n\n    if (selectInput === null) {\n      alert('Du må legge noen til i gruppen');\n    } else if (chosenGroupName === '') {\n      alert('Du må skrive et gruppenavn');\n    } else {\n      postGroup();\n      setSelectInput([]);\n      setSearchValue('');\n    }\n  };\n\n  const getUserIds = selectInput => {\n    const userIds = [];\n    selectInput.forEach(input => userIds.push(Object.values(input)[0]));\n    return userIds;\n  };\n\n  const postGroup = () => {\n    console.log(getUserIds(selectInput).toString());\n    axios.post(`/group`, {\n      groupName: chosenGroupName,\n      userIds: getUserIds(selectInput).toString(),\n      userId: user\n    }, config).then(response => {\n      JSON.stringify(response);\n      console.log(response.data);\n    }).then(updateGroups).catch(error => {\n      console.log(error.response.data);\n      alert('Fikk ikke opprettet gruppen');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(StyledContainer, {\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      style: {\n        marginTop: '5px'\n      },\n      onChange: onGroupNameChange,\n      fullWidth: true,\n      label: \"Gruppenavn\",\n      variant: \"outlined\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Autocomplete, {\n      id: \"free-solo-demo\",\n      value: selectInput,\n      multiple: true,\n      noOptionsText: \"ingen valg\",\n      onChange: (event, newValue) => {\n        setSelectInput(newValue);\n      },\n      inputValue: searchValue,\n      onInputChange: (event, newInputValue) => {\n        setSearchValue(newInputValue);\n      },\n      options: friends,\n      getOptionLabel: options => options.firstName + ' ' + options.surname,\n      renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n        label: \"Legg til medlemmer\",\n        margin: \"normal\",\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: onAddGroupClick,\n      variant: \"contained\",\n      disabled: selectInput.length === 0,\n      color: \"primary\",\n      style: {\n        width: '100%'\n      },\n      children: [\"Lag gruppe\", /*#__PURE__*/_jsxDEV(AddBox, {\n        style: {\n          marginLeft: '8px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      style: {\n        marginTop: '5px'\n      },\n      onChange: onSearchChange,\n      fullWidth: true,\n      label: \"S\\xF8k etter grupper\",\n      variant: \"outlined\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Groups, {\n      groups: groups,\n      handleGroupClicked: handleGroupClicked,\n      searchInput: searchInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GroupList, \"OhpHpYhNqIaeTGJ+3JaGnpv5FZg=\");\n\n_c2 = GroupList;\nexport default GroupList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledContainer\");\n$RefreshReg$(_c2, \"GroupList\");","map":{"version":3,"sources":["/Users/olelokken/DEV/gidd/client/src/components/GroupsAndFriendsComponents/GroupList.tsx"],"names":["React","useContext","useState","styled","TextField","Button","Autocomplete","AddBox","axios","UserContext","Groups","config","StyledContainer","div","GroupList","friends","groups","handleGroupClicked","updateGroups","searchInput","setSearchInput","selectInput","setSelectInput","chosenGroupName","setChosenGroupName","searchValue","setSearchValue","user","onSearchChange","event","target","value","onGroupNameChange","onAddGroupClick","console","log","alert","postGroup","getUserIds","userIds","forEach","input","push","Object","values","toString","post","groupName","userId","then","response","JSON","stringify","data","catch","error","marginTop","newValue","newInputValue","options","firstName","surname","params","length","width","marginLeft"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, useContext, useState } from 'react';\nimport styled from 'styled-components';\nimport { TextField, Button } from '@material-ui/core';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport AddBox from '@material-ui/icons/AddBox';\nimport User from '../../interfaces/User';\nimport axios from '../../Axios';\nimport { UserContext } from '../../UserContext';\nimport Group from '../../interfaces/Group';\nimport { Groups } from './Groups';\nimport config from '../../Config';\n\nconst StyledContainer = styled.div`\n    margin-left: 1rem;\n    margin-top: 1rem;\n    width: 95%;\n`;\n\n\ninterface Props {\n    friends: User[];\n    groups: Group[];\n    handleGroupClicked: (group: Group) => void;\n    updateGroups: () => void;\n    onClick?: () => void;\n}\n\nconst GroupList = ({\n    friends,\n    groups,\n    handleGroupClicked,\n    updateGroups,\n}: Props) => {\n    const [searchInput, setSearchInput] = useState<string>('');\n    const [selectInput, setSelectInput] = useState<User[]>([]);\n    const [chosenGroupName, setChosenGroupName] = useState<string>('');\n    const [searchValue, setSearchValue] = React.useState('');\n    const { user } = useContext(UserContext);\n\n    const onSearchChange = (event: ChangeEvent<HTMLInputElement>) => {\n        setSearchInput((event.target as HTMLInputElement).value);\n    };\n\n    const onGroupNameChange = (event: ChangeEvent<HTMLInputElement>) => {\n        setChosenGroupName((event.target as HTMLInputElement).value);\n    };\n\n    const onAddGroupClick = () => {\n        console.log(selectInput);\n        console.log(chosenGroupName);\n        //console.log(getUserIds(selectInput));\n\n        console.log('searchInput: ' + searchValue);\n        if (selectInput === null) {\n            alert('Du må legge noen til i gruppen');\n        } else if (chosenGroupName === '') {\n            alert('Du må skrive et gruppenavn');\n        } else {\n            postGroup();\n            setSelectInput([]);\n            setSearchValue('');\n        }\n    };\n\n    const getUserIds = (selectInput: User[]) => {\n        const userIds: string[] = [];\n        selectInput.forEach((input) => userIds.push(Object.values(input)[0]));\n        return userIds;\n    };\n\n    const postGroup = () => {\n        console.log(getUserIds(selectInput).toString());\n        axios\n            .post(`/group`, {\n                groupName: chosenGroupName,\n                userIds: getUserIds(selectInput).toString(),\n                userId: user,\n            }, config)\n            .then((response) => {\n                JSON.stringify(response);\n                console.log(response.data);\n            })\n            .then(updateGroups)\n            .catch((error) => {\n                console.log(error.response.data);\n                alert('Fikk ikke opprettet gruppen');\n            });\n    };\n\n    return (\n        <StyledContainer>\n            <TextField\n                style={{ marginTop: '5px' }}\n                onChange={onGroupNameChange}\n                fullWidth={true}\n                label=\"Gruppenavn\"\n                variant=\"outlined\"\n            />\n            <Autocomplete\n                id=\"free-solo-demo\"\n                value={selectInput}\n                multiple\n                noOptionsText=\"ingen valg\"\n                onChange={(event: any, newValue: User[]) => {\n                    setSelectInput(newValue);\n                }}\n                inputValue={searchValue}\n                onInputChange={(event, newInputValue) => {\n                    setSearchValue(newInputValue);\n                }}\n                options={friends}\n                getOptionLabel={(options) =>\n                    options.firstName + ' ' + options.surname\n                }\n                renderInput={(params) => (\n                    <TextField\n                        {...params}\n                        label=\"Legg til medlemmer\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                    />\n                )}\n            />\n            <Button\n                onClick={onAddGroupClick}\n                variant=\"contained\"\n                disabled={selectInput.length === 0}\n                color=\"primary\"\n                style={{ width: '100%' }}\n            >\n                Lag gruppe\n                <AddBox style={{ marginLeft: '8px' }}></AddBox>\n            </Button>\n\n            <TextField\n                style={{ marginTop: '5px' }}\n                onChange={onSearchChange}\n                fullWidth={true}\n                label=\"Søk etter grupper\"\n                variant=\"outlined\"\n            />\n            <Groups\n                groups={groups}\n                handleGroupClicked={handleGroupClicked}\n                searchInput={searchInput}\n            />\n        </StyledContainer>\n    );\n};\n\nexport default GroupList;\n"]},"metadata":{},"sourceType":"module"}