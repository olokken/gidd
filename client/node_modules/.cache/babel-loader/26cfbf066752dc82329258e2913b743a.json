{"ast":null,"code":"import _slicedToArray from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState}from'react';import Menu from'@material-ui/core/Menu';import{MenuItem,withStyles}from'@material-ui/core';import Chat from'../ChatComponents/Chat';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledMenu=withStyles({paper:{border:'1px solid #d3d4d5'}})(function(props){return/*#__PURE__*/_jsx(Menu,_objectSpread({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:'bottom',horizontal:'center'},transformOrigin:{vertical:'top',horizontal:'center'}},props));});var ChatAlerts=function ChatAlerts(_ref){var id=_ref.id,anchorEl=_ref.anchorEl,onClose=_ref.onClose,notifications=_ref.notifications,onItemClick=_ref.onItemClick;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openChat=_useState2[0],setOpenChat=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),currentId=_useState4[0],setCurrentId=_useState4[1];var _onClick=function onClick(activityId){onItemClick(activityId);setCurrentId(activityId);setOpenChat(true);};var mapNotifications=notifications.map(function(not,index){return/*#__PURE__*/_jsxs(MenuItem,{onClick:function onClick(){return _onClick(not.activityId);},style:{marginBottom:'1rem'},children:[\"Du har nye meldinger \",/*#__PURE__*/_jsx(\"br\",{}),\" i aktiviteten : \",not.title]},index);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(StyledMenu,{onClose:onClose,keepMounted:true,open:Boolean(anchorEl),id:id,anchorEl:anchorEl,children:mapNotifications}),currentId&&/*#__PURE__*/_jsx(Chat,{open:openChat,close:function close(){return setOpenChat(false);},activityId:currentId})]});};export default ChatAlerts;","map":{"version":3,"sources":["/Users/olelokken/DEV/gidd/client/src/components/NavBarComponents/ChatAlerts.tsx"],"names":["React","useState","Menu","MenuItem","withStyles","Chat","StyledMenu","paper","border","props","vertical","horizontal","ChatAlerts","id","anchorEl","onClose","notifications","onItemClick","openChat","setOpenChat","currentId","setCurrentId","onClick","activityId","mapNotifications","map","not","index","marginBottom","title","Boolean"],"mappings":"6SAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,IAAP,KAAgC,wBAAhC,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,mBAArC,CAEA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAGF,UAAU,CAAC,CAC1BG,KAAK,CAAE,CACHC,MAAM,CAAE,mBADL,CADmB,CAAD,CAAV,CAIhB,SAACC,KAAD,qBACC,KAAC,IAAD,gBACI,SAAS,CAAE,CADf,CAEI,kBAAkB,CAAE,IAFxB,CAGI,YAAY,CAAE,CACVC,QAAQ,CAAE,QADA,CAEVC,UAAU,CAAE,QAFF,CAHlB,CAOI,eAAe,CAAE,CACbD,QAAQ,CAAE,KADG,CAEbC,UAAU,CAAE,QAFC,CAPrB,EAWQF,KAXR,EADD,EAJgB,CAAnB,CA4BA,GAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAMN,IALTC,CAAAA,EAKS,MALTA,EAKS,CAJTC,QAIS,MAJTA,QAIS,CAHTC,OAGS,MAHTA,OAGS,CAFTC,aAES,MAFTA,aAES,CADTC,WACS,MADTA,WACS,eACuBhB,QAAQ,CAAU,KAAV,CAD/B,wCACFiB,QADE,eACQC,WADR,8BAEyBlB,QAAQ,EAFjC,yCAEFmB,SAFE,eAESC,YAFT,eAIT,GAAMC,CAAAA,QAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,UAAD,CAAwB,CACpCN,WAAW,CAACM,UAAD,CAAX,CACAF,YAAY,CAACE,UAAD,CAAZ,CACAJ,WAAW,CAAC,IAAD,CAAX,CACH,CAJD,CAMA,GAAMK,CAAAA,gBAAgB,CAAGR,aAAa,CAACS,GAAd,CAAkB,SAACC,GAAD,CAAMC,KAAN,qBACvC,MAAC,QAAD,EACI,OAAO,CAAE,yBAAML,CAAAA,QAAO,CAACI,GAAG,CAACH,UAAL,CAAb,EADb,CAGI,KAAK,CAAE,CAAEK,YAAY,CAAE,MAAhB,CAHX,gDAKyB,aALzB,qBAKoDF,GAAG,CAACG,KALxD,GAESF,KAFT,CADuC,EAAlB,CAAzB,CASA,mBACI,oCACI,KAAC,UAAD,EACI,OAAO,CAAEZ,OADb,CAEI,WAAW,KAFf,CAGI,IAAI,CAAEe,OAAO,CAAChB,QAAD,CAHjB,CAII,EAAE,CAAED,EAJR,CAKI,QAAQ,CAAEC,QALd,UAOKU,gBAPL,EADJ,CAUKJ,SAAS,eACN,KAAC,IAAD,EACI,IAAI,CAAEF,QADV,CAEI,KAAK,CAAE,uBAAMC,CAAAA,WAAW,CAAC,KAAD,CAAjB,EAFX,CAGI,UAAU,CAAEC,SAHhB,EAXR,GADJ,CAoBH,CA7CD,CA+CA,cAAeR,CAAAA,UAAf","sourcesContent":["import React, { useState } from 'react';\nimport Menu, { MenuProps } from '@material-ui/core/Menu';\nimport { MenuItem, withStyles } from '@material-ui/core';\nimport ActivityResponse from '../../interfaces/ActivityResponse';\nimport Chat from '../ChatComponents/Chat';\n\nconst StyledMenu = withStyles({\n    paper: {\n        border: '1px solid #d3d4d5',\n    },\n})((props: MenuProps) => (\n    <Menu\n        elevation={0}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'center',\n        }}\n        transformOrigin={{\n            vertical: 'top',\n            horizontal: 'center',\n        }}\n        {...props}\n    />\n));\n\ninterface Props {\n    id: string;\n    anchorEl: null | HTMLElement;\n    onClose: () => void;\n    notifications: ActivityResponse[];\n    onItemClick: (activityId: number) => void;\n}\n\nconst ChatAlerts = ({\n    id,\n    anchorEl,\n    onClose,\n    notifications,\n    onItemClick,\n}: Props) => {\n    const [openChat, setOpenChat] = useState<boolean>(false);\n    const [currentId, setCurrentId] = useState<number>();\n\n    const onClick = (activityId: number) => {\n        onItemClick(activityId);\n        setCurrentId(activityId);\n        setOpenChat(true);\n    };\n\n    const mapNotifications = notifications.map((not, index) => (\n        <MenuItem\n            onClick={() => onClick(not.activityId)}\n            key={index}\n            style={{ marginBottom: '1rem' }}\n        >\n            Du har nye meldinger <br></br> i aktiviteten : {not.title}\n        </MenuItem>\n    ));\n    return (\n        <div>\n            <StyledMenu\n                onClose={onClose}\n                keepMounted\n                open={Boolean(anchorEl)}\n                id={id}\n                anchorEl={anchorEl}\n            >\n                {mapNotifications}\n            </StyledMenu>\n            {currentId && (\n                <Chat\n                    open={openChat}\n                    close={() => setOpenChat(false)}\n                    activityId={currentId}\n                ></Chat>\n            )}\n        </div>\n    );\n};\n\nexport default ChatAlerts;\n"]},"metadata":{},"sourceType":"module"}