{"ast":null,"code":"import _slicedToArray from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _taggedTemplateLiteral from\"/Users/olelokken/DEV/gidd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState}from'react';import Popup from'../Popup';import Rating from'@material-ui/lab/Rating';import{Button}from'@material-ui/core';import styled from'styled-components';import axios from'../../Axios';import SentimentVeryDissatisfiedIcon from'@material-ui/icons/SentimentVeryDissatisfied';import SentimentDissatisfiedIcon from'@material-ui/icons/SentimentDissatisfied';import SentimentSatisfiedIcon from'@material-ui/icons/SentimentSatisfied';import SentimentSatisfiedAltIcon from'@material-ui/icons/SentimentSatisfiedAltOutlined';import SentimentVerySatisfiedIcon from'@material-ui/icons/SentimentVerySatisfied';import config from'../../Config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: center;\\n    flex-direction: column;\\n    max-height:80px;\\n\"])));var customIcons={1:{icon:/*#__PURE__*/_jsx(SentimentVeryDissatisfiedIcon,{}),label:'Very Dissatisfied'},2:{icon:/*#__PURE__*/_jsx(SentimentDissatisfiedIcon,{}),label:'Dissatisfied'},3:{icon:/*#__PURE__*/_jsx(SentimentSatisfiedIcon,{}),label:'Neutral'},4:{icon:/*#__PURE__*/_jsx(SentimentSatisfiedAltIcon,{}),label:'Satisfied'},5:{icon:/*#__PURE__*/_jsx(SentimentVerySatisfiedIcon,{}),label:'Very Satisfied'}};function IconContainer(props){var value=props.value,other=_objectWithoutProperties(props,[\"value\"]);return/*#__PURE__*/_jsx(\"span\",_objectSpread(_objectSpread({},other),{},{children:customIcons[value].icon}));}var PlayerRatingForm=function PlayerRatingForm(_ref){var user=_ref.user,openPopup=_ref.openPopup,setOpenPopup=_ref.setOpenPopup;var _useState=useState(),_useState2=_slicedToArray(_useState,2),rating=_useState2[0],setRating=_useState2[1];var currUser=localStorage.getItem('userID');var onChangeRating=function onChangeRating(event,value){var currentVal=value;setRating(currentVal);};var onSendRating=function onSendRating(){console.log({toUserId:user.userId,fromUserId:currUser,rating:rating});var url=\"/user/\".concat(user.userId,\"/rating\");axios.post(url,{toUserId:user.userId,fromUserId:currUser,rating:rating},config).then(function(response){return console.log(response);}).catch(function(error){if(error.response.data.error===\"you've already rated that user\"){alert('Du har allerede gitt denne brukeren rating');}});setOpenPopup(false);};return/*#__PURE__*/_jsx(Popup,{title:\"\".concat(user.firstName,\" \").concat(user.surname),openPopup:openPopup,setOpenPopup:setOpenPopup,children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Rating,{style:{marginLeft:'17.5%'},name:\"customized-icons\",defaultValue:5,size:\"large\",onChange:onChangeRating,getLabelText:function getLabelText(val){return customIcons[val].label;},IconContainerComponent:IconContainer}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:onSendRating,style:{},children:\"Gi Rating\"})]})});};export default PlayerRatingForm;","map":{"version":3,"sources":["/Users/olelokken/DEV/gidd/client/src/components/Forms/PlayerRatingForm.tsx"],"names":["React","useState","Popup","Rating","Button","styled","axios","SentimentVeryDissatisfiedIcon","SentimentDissatisfiedIcon","SentimentSatisfiedIcon","SentimentSatisfiedAltIcon","SentimentVerySatisfiedIcon","config","Container","div","customIcons","icon","label","IconContainer","props","value","other","PlayerRatingForm","user","openPopup","setOpenPopup","rating","setRating","currUser","localStorage","getItem","onChangeRating","event","currentVal","onSendRating","console","log","toUserId","userId","fromUserId","url","post","then","response","catch","error","data","alert","firstName","surname","marginLeft","val"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, useState } from 'react';\nimport User from '../../interfaces/User';\nimport Popup from '../Popup';\nimport Rating from '@material-ui/lab/Rating';\nimport { Button } from '@material-ui/core';\nimport styled from 'styled-components';\nimport axios from '../../Axios'\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\nimport SentimentDissatisfiedIcon from '@material-ui/icons/SentimentDissatisfied';\nimport SentimentSatisfiedIcon from '@material-ui/icons/SentimentSatisfied';\nimport SentimentSatisfiedAltIcon from '@material-ui/icons/SentimentSatisfiedAltOutlined';\nimport SentimentVerySatisfiedIcon from '@material-ui/icons/SentimentVerySatisfied';\nimport PropTypes from 'prop-types';\nimport config from '../../Config';\n\n\ninterface Props {\n    user: User;\n    openPopup: boolean;\n    setOpenPopup: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nconst Container = styled.div`\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    max-height:80px;\n`;\n\n\nconst customIcons: any = {\n    1: {\n        icon: <SentimentVeryDissatisfiedIcon />,\n        label: 'Very Dissatisfied',\n    },\n    2: {\n        icon: <SentimentDissatisfiedIcon />,\n        label: 'Dissatisfied',\n    },\n    3: {\n        icon: <SentimentSatisfiedIcon />,\n        label: 'Neutral',\n    },\n    4: {\n        icon: <SentimentSatisfiedAltIcon />,\n        label: 'Satisfied',\n    },\n    5: {\n        icon: <SentimentVerySatisfiedIcon />,\n        label: 'Very Satisfied',\n    },\n};\n\nfunction IconContainer(props: any) {\n    const { value, ...other } = props;\n    return <span {...other}>{customIcons[value].icon}</span>;\n}\n\nIconContainer.propTypes = {\n    value: PropTypes.number.isRequired,\n};\nconst PlayerRatingForm = ({ user, openPopup, setOpenPopup }: Props) => {\n    const [rating, setRating] = useState<number | null>();\n    const currUser = localStorage.getItem('userID')\n\n\n    const onChangeRating = (event: ChangeEvent<unknown>, value: number | null) => {\n        const currentVal: number | null = value\n        setRating(currentVal);\n    };\n\n    const onSendRating = () => {\n        console.log({\n            toUserId: user.userId,\n            fromUserId: currUser,\n            rating: rating\n        })\n        const url = `/user/${user.userId}/rating`\n        axios.post(url, {\n            toUserId: user.userId,\n            fromUserId: currUser,\n            rating: rating\n        }, config).then((response => \n            console.log(response)\n        )).catch(error => {\n            if (error.response.data.error === `you've already rated that user`) {\n                alert('Du har allerede gitt denne brukeren rating')\n            }\n        })\n            setOpenPopup(false)\n        }\n\n    return (\n        <Popup\n            title={`${user.firstName} ${user.surname}`}\n            openPopup={openPopup}\n            setOpenPopup={setOpenPopup}\n        >\n            <Container>\n                <Rating\n                    style={{\n                        marginLeft: '17.5%'\n                    }}\n                    name=\"customized-icons\"\n                    defaultValue={5}\n                    size=\"large\"\n                    onChange={onChangeRating}\n                    getLabelText={(val: number) => customIcons[val].label}\n                    IconContainerComponent={IconContainer}\n                />\n                <Button color=\"primary\" onClick={onSendRating} style={{}}>Gi Rating</Button>\n            </Container>\n        </Popup>\n    );\n};\n\nexport default PlayerRatingForm;\n"]},"metadata":{},"sourceType":"module"}